{"remainingRequest":"/Users/yanglin/Desktop/test/fingernft/vue-admin/node_modules/_babel-loader@8.2.3@babel-loader/lib/index.js!/Users/yanglin/Desktop/test/fingernft/vue-admin/node_modules/_eslint-loader@2.2.1@eslint-loader/index.js??ref--13-0!/Users/yanglin/Desktop/test/fingernft/vue-admin/src/store/modules/user.js","dependencies":[{"path":"/Users/yanglin/Desktop/test/fingernft/vue-admin/src/store/modules/user.js","mtime":1646290558204},{"path":"/Users/yanglin/Desktop/test/fingernft/vue-admin/babel.config.js","mtime":1646290558160},{"path":"/Users/yanglin/Desktop/test/fingernft/vue-admin/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanglin/Desktop/test/fingernft/vue-admin/node_modules/_babel-loader@8.2.3@babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/yanglin/Desktop/test/fingernft/vue-admin/node_modules/_eslint-loader@2.2.1@eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM2LmZ1bmN0aW9uLm5hbWUiOwovLyBpbXBvcnQgeyBsb2dpbkJ5VXNlcm5hbWUsIGxvZ291dCwgZ2V0VXNlckluZm8gfSBmcm9tICdAL2FwaS9sb2dpbicKaW1wb3J0IGFwaSBmcm9tICdAL2FwaS9pbmRleCc7CmltcG9ydCB0b29scyBmcm9tICdAL3V0aWxzL3Rvb2xzJzsKaW1wb3J0IHsgZ2V0VG9rZW4sIHNldFRva2VuLCByZW1vdmVUb2tlbiB9IGZyb20gJ0AvdXRpbHMvYXV0aCc7CnZhciB1c2VyID0gewogIHN0YXRlOiB7CiAgICBjb25maWc6IHt9LAogICAgdXNlcjogJycsCiAgICBzdGF0dXM6ICcnLAogICAgY29kZTogJycsCiAgICB0b2tlbjogZ2V0VG9rZW4oKSwKICAgIG5hbWU6ICcnLAogICAgYWRtaW5JZDogdW5kZWZpbmVkLAogICAgdXNlcm5hbWU6ICcnLAogICAgYXZhdGFyOiAnJywKICAgIGludHJvZHVjdGlvbjogJycsCiAgICByb2xlczogW10sCiAgICByb2xlc0lkOiB1bmRlZmluZWQsCiAgICBwZXJtczogW10sCiAgICBzZXR0aW5nOiB7CiAgICAgIGFydGljbGVQbGF0Zm9ybTogW10KICAgIH0KICB9LAogIG11dGF0aW9uczogewogICAgU0VUX0NPREU6IGZ1bmN0aW9uIFNFVF9DT0RFKHN0YXRlLCBjb2RlKSB7CiAgICAgIHN0YXRlLmNvZGUgPSBjb2RlOwogICAgfSwKICAgIFNFVF9UT0tFTjogZnVuY3Rpb24gU0VUX1RPS0VOKHN0YXRlLCB0b2tlbikgewogICAgICBzdGF0ZS50b2tlbiA9IHRva2VuOwogICAgfSwKICAgIFNFVF9JTlRST0RVQ1RJT046IGZ1bmN0aW9uIFNFVF9JTlRST0RVQ1RJT04oc3RhdGUsIGludHJvZHVjdGlvbikgewogICAgICBzdGF0ZS5pbnRyb2R1Y3Rpb24gPSBpbnRyb2R1Y3Rpb247CiAgICB9LAogICAgU0VUX1NFVFRJTkc6IGZ1bmN0aW9uIFNFVF9TRVRUSU5HKHN0YXRlLCBzZXR0aW5nKSB7CiAgICAgIHN0YXRlLnNldHRpbmcgPSBzZXR0aW5nOwogICAgfSwKICAgIFNFVF9TVEFUVVM6IGZ1bmN0aW9uIFNFVF9TVEFUVVMoc3RhdGUsIHN0YXR1cykgewogICAgICBzdGF0ZS5zdGF0dXMgPSBzdGF0dXM7CiAgICB9LAogICAgU0VUX05BTUU6IGZ1bmN0aW9uIFNFVF9OQU1FKHN0YXRlLCBuYW1lKSB7CiAgICAgIHN0YXRlLm5hbWUgPSBuYW1lOwogICAgfSwKICAgIFNFVF9BRE1JTl9JRDogZnVuY3Rpb24gU0VUX0FETUlOX0lEKHN0YXRlLCBhZG1pbklkKSB7CiAgICAgIHN0YXRlLmFkbWluSWQgPSBhZG1pbklkOwogICAgfSwKICAgIFNFVF9BVkFUQVI6IGZ1bmN0aW9uIFNFVF9BVkFUQVIoc3RhdGUsIGF2YXRhcikgewogICAgICBzdGF0ZS5hdmF0YXIgPSBhdmF0YXI7CiAgICB9LAogICAgU0VUX1JPTEVTOiBmdW5jdGlvbiBTRVRfUk9MRVMoc3RhdGUsIHJvbGVzKSB7CiAgICAgIHN0YXRlLnJvbGVzID0gcm9sZXM7CiAgICB9LAogICAgU0VUX1BFUk1TOiBmdW5jdGlvbiBTRVRfUEVSTVMoc3RhdGUsIHBlcm1zKSB7CiAgICAgIHN0YXRlLnBlcm1zID0gcGVybXM7CiAgICB9LAogICAgU0VUX1JPTEVTX0lEOiBmdW5jdGlvbiBTRVRfUk9MRVNfSUQoc3RhdGUsIFJPTEVTX0lEKSB7CiAgICAgIHN0YXRlLnJvbGVzSWQgPSBST0xFU19JRDsKICAgIH0sCiAgICBTRVRfQ09ORklHOiBmdW5jdGlvbiBTRVRfQ09ORklHKHN0YXRlLCBjb25maWcpIHsKICAgICAgdmFyIGlwZnNVcmwgPSBjb25maWcuaXBmc1VybDsKICAgICAgaXBmc1VybCA9IGlwZnNVcmwuaW5kZXhPZigiLyIsIGlwZnNVcmwubGVuZ3RoIC0gMSkgPT09IC0xID8gaXBmc1VybCArICIvIiA6IGlwZnNVcmw7CiAgICAgIGNvbmZpZy5pcGZzVXJsID0gaXBmc1VybDsKICAgICAgc3RhdGUuY29uZmlnID0gY29uZmlnOwogICAgfQogIH0sCiAgYWN0aW9uczogewogICAgLy8g55So5oi35ZCN55m75b2VCiAgICBMb2dpbkJ5VXNlcm5hbWU6IGZ1bmN0aW9uIExvZ2luQnlVc2VybmFtZShfcmVmLCB1c2VySW5mbykgewogICAgICB2YXIgY29tbWl0ID0gX3JlZi5jb21taXQ7CiAgICAgIHZhciB1c2VybmFtZSA9IHVzZXJJbmZvLnVzZXJuYW1lLnRyaW0oKTsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICB2YXIgZGF0YSA9IHsKICAgICAgICAgIHVzZXJuYW1lOiB1c2VybmFtZSwKICAgICAgICAgIHBhc3N3b3JkOiB1c2VySW5mby5wYXNzd29yZCwKICAgICAgICAgIGNvZGU6IHVzZXJJbmZvLmNvZGUKICAgICAgICB9OwogICAgICAgIGFwaSgiYXV0aC5sb2dpbiIsIGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBpZiAodG9vbHMuY2hlY2tSZXNwb25zZShyZXNwb25zZSkpIHsKICAgICAgICAgICAgdmFyIHRva2VuID0gcmVzcG9uc2UuZGF0YS50b2tlbjsKICAgICAgICAgICAgc2V0VG9rZW4odG9rZW4pOwogICAgICAgICAgfQoKICAgICAgICAgIHJlc29sdmUocmVzcG9uc2UpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDojrflj5bnlKjmiLfkv6Hmga8KICAgIEdldFVzZXJJbmZvOiBmdW5jdGlvbiBHZXRVc2VySW5mbyhfcmVmMikgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjIuY29tbWl0LAogICAgICAgICAgZGlzcGF0Y2ggPSBfcmVmMi5kaXNwYXRjaCwKICAgICAgICAgIHN0YXRlID0gX3JlZjIuc3RhdGU7CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgYXBpKCJhdXRoLmluZm8iKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgaWYgKHRvb2xzLmNoZWNrUmVzcG9uc2UocmVzcG9uc2UpKSB7CiAgICAgICAgICAgIHZhciBkYXRhID0gcmVzcG9uc2UuZGF0YTsKCiAgICAgICAgICAgIGlmIChkYXRhLnBlcm1zICYmIGRhdGEucGVybXMubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgIC8vIOmqjOivgei/lOWbnueahHBlcm1z5piv5ZCm5piv5LiA5Liq6Z2e56m65pWw57uECiAgICAgICAgICAgICAgY29tbWl0KCdTRVRfUEVSTVMnLCBkYXRhLnBlcm1zKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICByZWplY3QoJ2dldEluZm86IHBlcm1zIG11c3QgYmUgYSBub24tbnVsbCBhcnJheSAhJyk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGNvbW1pdCgnU0VUX1JPTEVTJywgZGF0YS5yb2xlcyk7CiAgICAgICAgICAgIGNvbW1pdCgnU0VUX1JPTEVTX0lEJywgZGF0YS5yb2xlc19pZFswXSk7CiAgICAgICAgICAgIGNvbW1pdCgnU0VUX05BTUUnLCBkYXRhLm5hbWUpOyAvLyBjb21taXQoJ1NFVF9BVkFUQVInLCBkYXRhLmF2YXRhcikKCiAgICAgICAgICAgIGNvbW1pdCgnU0VUX0FWQVRBUicsICcnKTsKICAgICAgICAgICAgY29tbWl0KCdTRVRfSU5UUk9EVUNUSU9OJywgZGF0YS5pbnRyb2R1Y3Rpb24pOwogICAgICAgICAgICBjb21taXQoJ1NFVF9BRE1JTl9JRCcsIGRhdGEuaWQpOwogICAgICAgICAgICBkaXNwYXRjaCgiY29uZmlnIik7CiAgICAgICAgICB9CgogICAgICAgICAgcmVzb2x2ZShyZXNwb25zZSk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIGNvbmZpZzogZnVuY3Rpb24gY29uZmlnKF9yZWYzKSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmMy5jb21taXQsCiAgICAgICAgICBzdGF0ZSA9IF9yZWYzLnN0YXRlOwogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgIGFwaSgiY29uZmlnLmZldGNoIikudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIGlmICh0b29scy5jaGVja1Jlc3BvbnNlKHJlc3BvbnNlKSkgewogICAgICAgICAgICBjb21taXQoIlNFVF9DT05GSUciLCByZXNwb25zZS5kYXRhKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgTG9nT3V0OiBmdW5jdGlvbiBMb2dPdXQoX3JlZjQpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWY0LmNvbW1pdCwKICAgICAgICAgIHN0YXRlID0gX3JlZjQuc3RhdGU7CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgYXBpKCJhdXRoLmxvZ291dCIsIHN0YXRlLnRva2VuKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIGNvbW1pdCgnU0VUX1RPS0VOJywgJycpOwogICAgICAgICAgY29tbWl0KCdTRVRfUk9MRVMnLCBbXSk7CiAgICAgICAgICBjb21taXQoJ1NFVF9QRVJNUycsIFtdKTsKICAgICAgICAgIGNvbW1pdCgnU0VUX1JPTEVTX0lEJywgdW5kZWZpbmVkKTsKICAgICAgICAgIHJlbW92ZVRva2VuKCk7CiAgICAgICAgICByZXNvbHZlKCk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIEZlZExvZ091dDogZnVuY3Rpb24gRmVkTG9nT3V0KF9yZWY1KSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmNS5jb21taXQ7CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgIGNvbW1pdCgnU0VUX1RPS0VOJywgJycpOwogICAgICAgIHJlbW92ZVRva2VuKCk7CiAgICAgICAgcmVzb2x2ZSgpOwogICAgICB9KTsKICAgIH0sCiAgICBDaGFuZ2VSb2xlczogZnVuY3Rpb24gQ2hhbmdlUm9sZXMoX3JlZjYsIHJvbGUpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWY2LmNvbW1pdCwKICAgICAgICAgIGRpc3BhdGNoID0gX3JlZjYuZGlzcGF0Y2g7CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgIGNvbW1pdCgnU0VUX1RPS0VOJywgcm9sZSk7CiAgICAgICAgc2V0VG9rZW4ocm9sZSk7CiAgICAgICAgYXBpKCJhdXRoLmluZm8iLCByb2xlKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIHZhciBkYXRhID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgIGNvbW1pdCgnU0VUX1JPTEVTJywgZGF0YS5yb2xlcyk7CiAgICAgICAgICBjb21taXQoJ1NFVF9QRVJNUycsIGRhdGEucGVybXMpOwogICAgICAgICAgY29tbWl0KCdTRVRfTkFNRScsIGRhdGEubmFtZSk7CiAgICAgICAgICBjb21taXQoJ1NFVF9BVkFUQVInLCBkYXRhLmF2YXRhcik7CiAgICAgICAgICBjb21taXQoJ1NFVF9ST0xFU19JRCcsIGRhdGEucm9sZXNfaWRbMF0pOwogICAgICAgICAgY29tbWl0KCdTRVRfSU5UUk9EVUNUSU9OJywgZGF0YS5pbnRyb2R1Y3Rpb24pOwogICAgICAgICAgZGlzcGF0Y2goJ0dlbmVyYXRlUm91dGVzJywgZGF0YSk7IC8vIOWKqOaAgeS/ruaUueadg+mZkOWQjiDph43nu5jkvqfovrnoj5zljZUKCiAgICAgICAgICByZXNvbHZlKCk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQogIH0KfTsKZXhwb3J0IGRlZmF1bHQgdXNlcjs="},{"version":3,"sources":["/Users/yanglin/Desktop/test/fingernft/vue-admin/src/store/modules/user.js"],"names":["api","tools","getToken","setToken","removeToken","user","state","config","status","code","token","name","adminId","undefined","username","avatar","introduction","roles","rolesId","perms","setting","articlePlatform","mutations","SET_CODE","SET_TOKEN","SET_INTRODUCTION","SET_SETTING","SET_STATUS","SET_NAME","SET_ADMIN_ID","SET_AVATAR","SET_ROLES","SET_PERMS","SET_ROLES_ID","ROLES_ID","SET_CONFIG","ipfsUrl","indexOf","length","actions","LoginByUsername","userInfo","commit","trim","Promise","resolve","reject","data","password","then","response","checkResponse","GetUserInfo","dispatch","roles_id","id","LogOut","res","FedLogOut","ChangeRoles","role"],"mappings":"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","sourcesContent":["// import { loginByUsername, logout, getUserInfo } from '@/api/login'\nimport api from '@/api/index';\nimport tools from '@/utils/tools';\nimport { getToken, setToken, removeToken } from '@/utils/auth'\n\nconst user = {\n  state: {\n    config: {},\n    user: '',\n    status: '',\n    code: '',\n    token: getToken(),\n    name: '',\n    adminId: undefined,\n    username: '',\n    avatar: '',\n    introduction: '',\n    roles: [],\n    rolesId: undefined,\n    perms: [],\n    setting: {\n      articlePlatform: []\n    },\n  },\n  mutations: {\n    SET_CODE: (state, code) => {\n      state.code = code\n    },\n    SET_TOKEN: (state, token) => {\n      state.token = token\n    },\n    SET_INTRODUCTION: (state, introduction) => {\n      state.introduction = introduction\n    },\n    SET_SETTING: (state, setting) => {\n      state.setting = setting\n    },\n    SET_STATUS: (state, status) => {\n      state.status = status\n    },\n    SET_NAME: (state, name) => {\n      state.name = name\n    },\n    SET_ADMIN_ID: (state, adminId) => {\n      state.adminId = adminId\n    },\n    SET_AVATAR: (state, avatar) => {\n      state.avatar = avatar\n    },\n    SET_ROLES: (state, roles) => {\n      state.roles = roles\n    },\n    SET_PERMS: (state, perms) => {\n      state.perms = perms\n    },\n    SET_ROLES_ID(state, ROLES_ID) {\n      state.rolesId = ROLES_ID\n    },\n    SET_CONFIG(state, config){\n      let {ipfsUrl} = config;\n      ipfsUrl = ipfsUrl.indexOf(\"/\", ipfsUrl.length - 1) === -1 ? ipfsUrl + \"/\" : ipfsUrl;\n      config.ipfsUrl = ipfsUrl;\n      state.config = config;\n    },\n  },\n\n  actions: {\n    // 用户名登录\n    LoginByUsername({ commit }, userInfo) {\n      const username = userInfo.username.trim()\n      return new Promise((resolve, reject) => {\n        let data = {\n          username: username,\n          password: userInfo.password,\n          code:userInfo.code\n        }\n        api(\"auth.login\", data).then(response => {\n          if(tools.checkResponse(response)){\n            const token = response.data.token\n            setToken(token)\n          }\n          resolve(response)\n        });\n      })\n    },\n    // 获取用户信息\n    GetUserInfo({ commit, dispatch, state }) {\n      return new Promise((resolve, reject) => {\n        api(\"auth.info\").then(response => {\n          if(tools.checkResponse(response)){\n            const data = response.data\n            if (data.perms && data.perms.length > 0) { // 验证返回的perms是否是一个非空数组\n              commit('SET_PERMS', data.perms)\n            } else {\n              reject('getInfo: perms must be a non-null array !')\n            }\n            commit('SET_ROLES', data.roles)\n            commit('SET_ROLES_ID', data.roles_id[0])\n            commit('SET_NAME', data.name)\n            // commit('SET_AVATAR', data.avatar)\n            commit('SET_AVATAR', '')\n            commit('SET_INTRODUCTION', data.introduction)\n            commit('SET_ADMIN_ID', data.id)\n            dispatch(\"config\");\n          }\n          resolve(response);\n        });\n      })\n    },\n    config({commit, state}){\n      return new Promise((resolve, reject) => {\n        api(\"config.fetch\").then(response => {\n          if(tools.checkResponse(response)){\n            commit(\"SET_CONFIG\", response.data);\n          }\n        });\n      });\n    },\n    LogOut({ commit, state }) {\n      return new Promise((resolve, reject) => {\n        api(\"auth.logout\", state.token).then((res) => {\n          commit('SET_TOKEN', '')\n          commit('SET_ROLES', [])\n          commit('SET_PERMS', [])\n          commit('SET_ROLES_ID', undefined)\n          removeToken()\n          resolve()\n        })\n        ;\n      })\n    },\n    FedLogOut({ commit }) {\n      return new Promise(resolve => {\n        commit('SET_TOKEN', '')\n        removeToken()\n        resolve()\n      })\n    },\n    ChangeRoles({ commit, dispatch }, role) {\n      return new Promise(resolve => {\n        commit('SET_TOKEN', role)\n        setToken(role)\n        api(\"auth.info\", role).then((res) => {\n          const data = response.data\n          commit('SET_ROLES', data.roles)\n          commit('SET_PERMS', data.perms)\n          commit('SET_NAME', data.name)\n          commit('SET_AVATAR', data.avatar)\n          commit('SET_ROLES_ID', data.roles_id[0])\n          commit('SET_INTRODUCTION', data.introduction)\n          dispatch('GenerateRoutes', data) // 动态修改权限后 重绘侧边菜单\n          resolve()\n        });\n      })\n    }\n  }\n}\n\nexport default user\n"]}]}