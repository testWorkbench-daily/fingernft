{"remainingRequest":"/Users/yanglin/Desktop/test/fingernft/vue-admin/node_modules/_babel-loader@8.2.3@babel-loader/lib/index.js!/Users/yanglin/Desktop/test/fingernft/vue-admin/node_modules/_eslint-loader@2.2.1@eslint-loader/index.js??ref--13-0!/Users/yanglin/Desktop/test/fingernft/vue-admin/src/directive/permission/permission.js","dependencies":[{"path":"/Users/yanglin/Desktop/test/fingernft/vue-admin/src/directive/permission/permission.js","mtime":1646290558188},{"path":"/Users/yanglin/Desktop/test/fingernft/vue-admin/babel.config.js","mtime":1646290558160},{"path":"/Users/yanglin/Desktop/test/fingernft/vue-admin/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanglin/Desktop/test/fingernft/vue-admin/node_modules/_babel-loader@8.2.3@babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/yanglin/Desktop/test/fingernft/vue-admin/node_modules/_eslint-loader@2.2.1@eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM3LmFycmF5LmluY2x1ZGVzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM2LnN0cmluZy5pbmNsdWRlcyI7CmltcG9ydCBzdG9yZSBmcm9tICdAL3N0b3JlJzsKZXhwb3J0IGRlZmF1bHQgewogIGluc2VydGVkOiBmdW5jdGlvbiBpbnNlcnRlZChlbCwgYmluZGluZywgdm5vZGUpIHsKICAgIHZhciB2YWx1ZSA9IGJpbmRpbmcudmFsdWU7CiAgICB2YXIgcGVybXMgPSBzdG9yZS5nZXR0ZXJzICYmIHN0b3JlLmdldHRlcnMucGVybXM7CgogICAgaWYgKHZhbHVlICYmIHZhbHVlIGluc3RhbmNlb2YgQXJyYXkgJiYgdmFsdWUubGVuZ3RoID4gMCkgewogICAgICB2YXIgcGVybWlzc2lvbnMgPSB2YWx1ZTsKICAgICAgdmFyIGhhc1Blcm1pc3Npb24gPSBmYWxzZTsKCiAgICAgIGlmIChwZXJtcy5pbmRleE9mKCcqJykgPj0gMCkgewogICAgICAgIGhhc1Blcm1pc3Npb24gPSB0cnVlOwogICAgICB9IGVsc2UgewogICAgICAgIGhhc1Blcm1pc3Npb24gPSBwZXJtcy5zb21lKGZ1bmN0aW9uIChwZXJtKSB7CiAgICAgICAgICByZXR1cm4gcGVybWlzc2lvbnMuaW5jbHVkZXMocGVybSk7CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIGlmICghaGFzUGVybWlzc2lvbikgewogICAgICAgIGVsLnBhcmVudE5vZGUgJiYgZWwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlbCk7CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIHRocm93IG5ldyBFcnJvcigibmVlZCBwZXJtcyEgTGlrZSB2LXBlcm1pc3Npb249XCJbJ0dFVCAvYWFhJywnUE9TVCAvYmJiJ11cIiIpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["/Users/yanglin/Desktop/test/fingernft/vue-admin/src/directive/permission/permission.js"],"names":["store","inserted","el","binding","vnode","value","perms","getters","Array","length","permissions","hasPermission","indexOf","some","perm","includes","parentNode","removeChild","Error"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,SAAlB;AAEA,eAAe;AACbC,EAAAA,QADa,oBACJC,EADI,EACAC,OADA,EACSC,KADT,EACgB;AAC3B,QAAQC,KAAR,GAAkBF,OAAlB,CAAQE,KAAR;AACA,QAAMC,KAAK,GAAGN,KAAK,CAACO,OAAN,IAAiBP,KAAK,CAACO,OAAN,CAAcD,KAA7C;;AAEA,QAAID,KAAK,IAAIA,KAAK,YAAYG,KAA1B,IAAmCH,KAAK,CAACI,MAAN,GAAe,CAAtD,EAAyD;AACvD,UAAMC,WAAW,GAAGL,KAApB;AAEA,UAAIM,aAAa,GAAG,KAApB;;AAEA,UAAIL,KAAK,CAACM,OAAN,CAAc,GAAd,KAAsB,CAA1B,EAA6B;AAC3BD,QAAAA,aAAa,GAAG,IAAhB;AACD,OAFD,MAEO;AACLA,QAAAA,aAAa,GAAGL,KAAK,CAACO,IAAN,CAAW,UAAAC,IAAI,EAAI;AACjC,iBAAOJ,WAAW,CAACK,QAAZ,CAAqBD,IAArB,CAAP;AACD,SAFe,CAAhB;AAGD;;AACD,UAAI,CAACH,aAAL,EAAoB;AAClBT,QAAAA,EAAE,CAACc,UAAH,IAAiBd,EAAE,CAACc,UAAH,CAAcC,WAAd,CAA0Bf,EAA1B,CAAjB;AACD;AACF,KAfD,MAeO;AACL,YAAM,IAAIgB,KAAJ,8DAAN;AACD;AACF;AAvBY,CAAf","sourcesContent":["import store from '@/store'\n\nexport default {\n  inserted(el, binding, vnode) {\n    const { value } = binding\n    const perms = store.getters && store.getters.perms\n\n    if (value && value instanceof Array && value.length > 0) {\n      const permissions = value\n\n      let hasPermission = false\n\n      if (perms.indexOf('*') >= 0) {\n        hasPermission = true\n      } else {\n        hasPermission = perms.some(perm => {\n          return permissions.includes(perm)\n        })\n      }\n      if (!hasPermission) {\n        el.parentNode && el.parentNode.removeChild(el)\n      }\n    } else {\n      throw new Error(`need perms! Like v-permission=\"['GET /aaa','POST /bbb']\"`)\n    }\n  }\n}\n"]}]}