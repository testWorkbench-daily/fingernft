{"remainingRequest":"/Users/yanglin/Desktop/test/fingernft/vue-admin/node_modules/_babel-loader@8.2.3@babel-loader/lib/index.js!/Users/yanglin/Desktop/test/fingernft/vue-admin/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!/Users/yanglin/Desktop/test/fingernft/vue-admin/node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!/Users/yanglin/Desktop/test/fingernft/vue-admin/src/components/Notice/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yanglin/Desktop/test/fingernft/vue-admin/src/components/Notice/index.vue","mtime":1646290558183},{"path":"/Users/yanglin/Desktop/test/fingernft/vue-admin/babel.config.js","mtime":1646290558160},{"path":"/Users/yanglin/Desktop/test/fingernft/vue-admin/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanglin/Desktop/test/fingernft/vue-admin/node_modules/_babel-loader@8.2.3@babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/yanglin/Desktop/test/fingernft/vue-admin/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanglin/Desktop/test/fingernft/vue-admin/node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8gaW1wb3J0IHsgbk5vdGljZSwgcmVhZEFsbCB9IGZyb20gJ0AvYXBpL3Byb2ZpbGUnCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaGFzTm90aWNlOiBmYWxzZSwKICAgICAgdGltZXI6ICIiCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHt9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7fSwKICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbiBiZWZvcmVEZXN0cm95KCkgewogICAgY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVyKTsKICAgIHRoaXMuJHJlZnMuYXVkaW9SZWYucGF1c2UoKTsKICB9LAogIC8vIGNyZWF0ZWQoKSB7CiAgLy8gICB0aGlzLmNoZWNrTm90aWNlKCk7CiAgLy8gICB0aGlzLmhhbmRsZVZpc2liaWxpdHlDaGFuZ2UgPSB0aGlzLmhhbmRsZVZpc2liaWxpdHlDaGFuZ2UuYmluZCh0aGlzKTsKICAvLyAgIHRoaXMuY2hlY2tOb3RpY2UgPSB0aGlzLmNoZWNrTm90aWNlLmJpbmQodGhpcyk7CiAgLy8gICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKAogIC8vICAgICAidmlzaWJpbGl0eWNoYW5nZSIsCiAgLy8gICAgIHRoaXMuaGFuZGxlVmlzaWJpbGl0eUNoYW5nZSwKICAvLyAgICAgZmFsc2UKICAvLyAgICk7CiAgLy8gICB0aGlzLnRpbWVyID0gc2V0SW50ZXJ2YWwodGhpcy5jaGVja05vdGljZSwgMTAwMCAqIDYwKTsKICAvLyB9LAogIG1ldGhvZHM6IHsKICAgIGNsaWNrOiBmdW5jdGlvbiBjbGljaygpIHsKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJTRVRfTk9USUNFIiwgZmFsc2UpOyAvLyBpZiAodGhpcy4kcm91dGUucGF0aCA9PT0gJy9wcm9maWxlL25vdGljZScpIHJldHVybgoKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIHBhdGg6ICIvcHJvZmlsZS9ub3RpY2UiCiAgICAgIH0pOwogICAgfSwKICAgIC8vIGNoZWNrTm90aWNlKCkgewogICAgLy8gICBuTm90aWNlKCkudGhlbihyZXNwb25zZSA9PiB7CiAgICAvLyAgICAgdGhpcy5oYXNOb3RpY2UgPSAocmVzcG9uc2UgJiYgcmVzcG9uc2UuZGF0YSAmJiByZXNwb25zZS5kYXRhID4gMCkgfHwgZmFsc2UKICAgIC8vICAgICB0aGlzLmhhc05vdGljZSAmJiAhZG9jdW1lbnQuaGlkZGVuICYmIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgIC8vICAgICAgIHRoaXMuJHJlZnMuYXVkaW9SZWYucGxheSgpCiAgICAvLyAgICAgICByZWFkQWxsKCkKICAgIC8vICAgICB9KQogICAgLy8gICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnU0VUX05PVElDRScsIHRoaXMuaGFzTm90aWNlKQogICAgLy8gICB9KQogICAgLy8gfSwKICAgIGhhbmRsZVZpc2liaWxpdHlDaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZVZpc2liaWxpdHlDaGFuZ2UoKSB7CiAgICAgIGlmIChkb2N1bWVudC5oaWRkZW4gJiYgdGhpcy4kcmVmcy5hdWRpb1JlZikgdGhpcy4kcmVmcy5hdWRpb1JlZiAmJiB0aGlzLiRyZWZzLmF1ZGlvUmVmLnBhdXNlKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"mappings":";;;;;;;;;AAUA;AAEA;AACAA,MADA,kBACA;AACA;AACAC,sBADA;AAEAC;AAFA;AAIA,GANA;AAOAC,cAPA;AAQAC,SARA,qBAQA,EARA;AASAC,eATA,2BASA;AACAC;AACA;AACA,GAZA;AAaA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAC;AACAC,SADA,mBACA;AACA,8CADA,CAEA;;AACA;AAAAC;AAAA;AACA,KALA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAC,0BAhBA,oCAgBA;AACA,kDACA;AACA;AAnBA;AAxBA","names":["data","hasNotice","timer","computed","mounted","beforeDestroy","clearInterval","methods","click","path","handleVisibilityChange"],"sourceRoot":"src/components/Notice","sources":["index.vue"],"sourcesContent":["<template>\n  <div>\n    <el-badge :is-dot=\"hasNotice\">\n      <i class=\"el-icon-bell\" @click=\"click\" />\n    </el-badge>\n    <audio ref=\"audioRef\" preload=\"preload\" src=\"/prompt.mp3\" />\n  </div>\n</template>\n\n<script>\n// import { nNotice, readAll } from '@/api/profile'\n\nexport default {\n  data() {\n    return {\n      hasNotice: false,\n      timer: \"\",\n    };\n  },\n  computed: {},\n  mounted() {},\n  beforeDestroy() {\n    clearInterval(this.timer);\n    this.$refs.audioRef.pause();\n  },\n  // created() {\n  //   this.checkNotice();\n  //   this.handleVisibilityChange = this.handleVisibilityChange.bind(this);\n  //   this.checkNotice = this.checkNotice.bind(this);\n  //   document.addEventListener(\n  //     \"visibilitychange\",\n  //     this.handleVisibilityChange,\n  //     false\n  //   );\n  //   this.timer = setInterval(this.checkNotice, 1000 * 60);\n  // },\n  methods: {\n    click() {\n      this.$store.commit(\"SET_NOTICE\", false);\n      // if (this.$route.path === '/profile/notice') return\n      this.$router.push({ path: \"/profile/notice\" });\n    },\n    // checkNotice() {\n    //   nNotice().then(response => {\n    //     this.hasNotice = (response && response.data && response.data > 0) || false\n    //     this.hasNotice && !document.hidden && this.$nextTick(() => {\n    //       this.$refs.audioRef.play()\n    //       readAll()\n    //     })\n    //     this.$store.commit('SET_NOTICE', this.hasNotice)\n    //   })\n    // },\n    handleVisibilityChange() {\n      if (document.hidden && this.$refs.audioRef)\n        this.$refs.audioRef && this.$refs.audioRef.pause();\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.el-badge__content.is-fixed.is-dot {\n  right: 5px;\n  top: 10px;\n}\n\n.el-icon-bell {\n  font-size: 20px;\n  cursor: pointer;\n}\n</style>\n"]}]}