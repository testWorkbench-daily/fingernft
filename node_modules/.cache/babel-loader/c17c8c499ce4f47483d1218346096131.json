{"remainingRequest":"/Users/yanglin/Desktop/test/fingernft/vue-admin/node_modules/_babel-loader@8.2.3@babel-loader/lib/index.js!/Users/yanglin/Desktop/test/fingernft/vue-admin/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!/Users/yanglin/Desktop/test/fingernft/vue-admin/node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!/Users/yanglin/Desktop/test/fingernft/vue-admin/src/views/sys/admin.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yanglin/Desktop/test/fingernft/vue-admin/src/views/sys/admin.vue","mtime":1646290558231},{"path":"/Users/yanglin/Desktop/test/fingernft/vue-admin/babel.config.js","mtime":1646290558160},{"path":"/Users/yanglin/Desktop/test/fingernft/vue-admin/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanglin/Desktop/test/fingernft/vue-admin/node_modules/_babel-loader@8.2.3@babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/yanglin/Desktop/test/fingernft/vue-admin/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanglin/Desktop/test/fingernft/vue-admin/node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICIvVXNlcnMveWFuZ2xpbi9EZXNrdG9wL3Rlc3QvZmluZ2VybmZ0L3Z1ZS1hZG1pbi9ub2RlX21vZHVsZXMvX0BiYWJlbF9ydW50aW1lLWNvcmVqczJANy4xNy4yQEBiYWJlbC9ydW50aW1lLWNvcmVqczIvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvciI7Cgp2YXIgX21ldGhvZHM7CgovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyB1cGxvYWRQYXRoIH0gZnJvbSAnQC9hcGkvaW5kZXgnOwppbXBvcnQgeyBnZXRUb2tlbiB9IGZyb20gJ0AvdXRpbHMvYXV0aCc7CmltcG9ydCBQYWdpbmF0aW9uIGZyb20gJ0AvY29tcG9uZW50cy9QYWdpbmF0aW9uJzsgLy8gU2Vjb25kYXJ5IHBhY2thZ2UgCgppbXBvcnQgTWVkaWEgZnJvbSAiQC9jb21wb25lbnRzL01lZGlhIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdBZG1pbicsCiAgY29tcG9uZW50czogewogICAgUGFnaW5hdGlvbjogUGFnaW5hdGlvbiwKICAgIE1lZGlhOiBNZWRpYQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHVwbG9hZFBhdGg6IHVwbG9hZFBhdGgsCiAgICAgIGxpc3Q6IG51bGwsCiAgICAgIHRvdGFsOiAwLAogICAgICByb2xlT3B0aW9uczogbnVsbCwKICAgICAgbGlzdExvYWRpbmc6IHRydWUsCiAgICAgIGxpc3RRdWVyeTogewogICAgICAgIHBhZ2U6IDEsCiAgICAgICAgbGltaXQ6IDIwLAogICAgICAgIHVzZXJuYW1lOiB1bmRlZmluZWQsCiAgICAgICAgc29ydDogJ2NyZWF0ZV90aW1lJywKICAgICAgICBvcmRlcjogJ2Rlc2MnCiAgICAgIH0sCiAgICAgIGRhdGFGb3JtOiB7CiAgICAgICAgaWQ6IHVuZGVmaW5lZCwKICAgICAgICB1c2VybmFtZTogdW5kZWZpbmVkLAogICAgICAgIHBhc3N3b3JkOiB1bmRlZmluZWQsCiAgICAgICAgYXZhdGFyOiB1bmRlZmluZWQsCiAgICAgICAgcm9sZUlkczogW10KICAgICAgfSwKICAgICAgZGlhbG9nRm9ybVZpc2libGU6IGZhbHNlLAogICAgICBkaWFsb2dTdGF0dXM6ICcnLAogICAgICB0ZXh0TWFwOiB7CiAgICAgICAgdXBkYXRlOiB0aGlzLiR0KCdzeXN0ZW1NYW5hZ2VtZW50LmVkaXQnKSwKICAgICAgICBjcmVhdGU6IHRoaXMuJHQoJ3N5c3RlbU1hbmFnZW1lbnQuY3JlYXRlJykKICAgICAgfSwKICAgICAgcnVsZXM6IHsKICAgICAgICB1c2VybmFtZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogdGhpcy4kdCgnc3lzdGVtTWFuYWdlbWVudC5ydWxlMScpLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgcGFzc3dvcmQ6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6IHRoaXMuJHQoJ3N5c3RlbU1hbmFnZW1lbnQucnVsZTInKSwKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dCiAgICAgIH0sCiAgICAgIGRvd25sb2FkTG9hZGluZzogZmFsc2UsCiAgICAgIGZpbGVsaXN0OiBbXSwKICAgICAgZmlsZUltYWdlOiAiIgogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmluaXQoKTsKICB9LAogIG1ldGhvZHM6IChfbWV0aG9kcyA9IHsKICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy5nZXRMaXN0KCk7CiAgICAgIHRoaXMuJGFwaSgncm9sZS5yb2xlT3B0aW9ucycpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMyLnJvbGVPcHRpb25zID0gcmVzcG9uc2UuZGF0YS5saXN0OwogICAgICB9KTsKICAgIH0sCiAgICBmb3JtYXRSb2xlOiBmdW5jdGlvbiBmb3JtYXRSb2xlKHJvbGVJZCwgc2NvcGUpIHsKICAgICAgaWYgKHRoaXMucm9sZU9wdGlvbnMgPD0gMCkgcmV0dXJuOwoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnJvbGVPcHRpb25zLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgaWYgKHJvbGVJZCA9PT0gdGhpcy5yb2xlT3B0aW9uc1tpXS52YWx1ZSkgewogICAgICAgICAgcmV0dXJuIHRoaXMucm9sZU9wdGlvbnNbaV0ubGFiZWw7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gJyc7CiAgICB9LAogICAgZ2V0TGlzdDogZnVuY3Rpb24gZ2V0TGlzdCgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB0aGlzLmxpc3RMb2FkaW5nID0gdHJ1ZTsKICAgICAgdGhpcy4kYXBpKCdhZG1pbi5saXN0QWRtaW4nLCB0aGlzLmxpc3RRdWVyeSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpczMubGlzdCA9IHJlc3BvbnNlLmRhdGEubGlzdDsKICAgICAgICBfdGhpczMudG90YWwgPSByZXNwb25zZS5kYXRhLnRvdGFsOwogICAgICAgIF90aGlzMy5saXN0TG9hZGluZyA9IGZhbHNlOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMzLmxpc3QgPSBbXTsKICAgICAgICBfdGhpczMudG90YWwgPSAwOwogICAgICAgIF90aGlzMy5saXN0TG9hZGluZyA9IGZhbHNlOwogICAgICB9KTsKICAgIH0sCiAgICBoYW5kbGVGaWx0ZXI6IGZ1bmN0aW9uIGhhbmRsZUZpbHRlcigpIHsKICAgICAgdGhpcy5saXN0UXVlcnkucGFnZSA9IDE7CiAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgfSwKICAgIHJlc2V0Rm9ybTogZnVuY3Rpb24gcmVzZXRGb3JtKCkgewogICAgICB0aGlzLmRhdGFGb3JtID0gewogICAgICAgIGlkOiB1bmRlZmluZWQsCiAgICAgICAgdXNlcm5hbWU6IHVuZGVmaW5lZCwKICAgICAgICBwYXNzd29yZDogdW5kZWZpbmVkLAogICAgICAgIGF2YXRhcjogdW5kZWZpbmVkLAogICAgICAgIHJvbGVJZHM6IFtdCiAgICAgIH07CiAgICAgIHRoaXMuZmlsZUltYWdlID0gIiI7CiAgICB9LAogICAgdXBsb2FkQ2hhbmdlOiBmdW5jdGlvbiB1cGxvYWRDaGFuZ2UoZmlsZSkgewogICAgICB0aGlzLmZpbGVsaXN0ID0gW107CiAgICAgIHRoaXMuZmlsZUltYWdlID0gZmlsZS5yYXc7CiAgICAgIHZhciBldmVudCA9IGV2ZW50IHx8IHdpbmRvdy5ldmVudDsKICAgICAgdmFyIGZpbGUgPSBldmVudC50YXJnZXQuZmlsZXNbMF07CiAgICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpOwoKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbiAoZSkgewogICAgICAgIF90aGlzLmRhdGFGb3JtLmF2YXRhciA9IGUudGFyZ2V0LnJlc3VsdDsKICAgICAgfTsKCiAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpOwogICAgfSwKICAgIGhhbmRsZUNyZWF0ZTogZnVuY3Rpb24gaGFuZGxlQ3JlYXRlKCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHRoaXMucmVzZXRGb3JtKCk7CiAgICAgIHRoaXMuZGlhbG9nU3RhdHVzID0gJ2NyZWF0ZSc7CiAgICAgIHRoaXMuZGlhbG9nRm9ybVZpc2libGUgPSB0cnVlOwogICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXM0LiRyZWZzWydkYXRhRm9ybSddLmNsZWFyVmFsaWRhdGUoKTsKICAgICAgfSk7CiAgICB9LAogICAgY3JlYXRlRGF0YTogZnVuY3Rpb24gY3JlYXRlRGF0YSgpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICB0aGlzLiRyZWZzWydkYXRhRm9ybSddLnZhbGlkYXRlKGZ1bmN0aW9uICh2YWxpZCkgewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgaWYgKF90aGlzNS5maWxlSW1hZ2UpIHsKICAgICAgICAgICAgUHJvbWlzZS5hbGwoW190aGlzNS5oYW5kbGVyVXBsb2FkKCldKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICBfdGhpczUuY3JlYXRlQXBpKHJlcyk7CiAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgICAgICBfdGhpczUuZmFpbENhbGxiYWNrKCk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgX3RoaXM1LmNyZWF0ZUFwaSgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgY3JlYXRlQXBpOiBmdW5jdGlvbiBjcmVhdGVBcGkoZmlsZSkgewogICAgICB2YXIgX3RoaXM2ID0gdGhpczsKCiAgICAgIHZhciBhdmF0YXIgPSB0aGlzLmRhdGFGb3JtLmF2YXRhcjsKICAgICAgYXZhdGFyID0gZmlsZSA/IGZpbGVbMF0udXJsIDogIiI7CiAgICAgIHRoaXMuZGF0YUZvcm0uYXZhdGFyID0gYXZhdGFyOwogICAgICB0aGlzLiRhcGkoJ2FkbWluLmNyZWF0ZUFkbWluJywgdGhpcy5kYXRhRm9ybSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpczYubGlzdC51bnNoaWZ0KHJlc3BvbnNlLmRhdGEpOwoKICAgICAgICBfdGhpczYuZGlhbG9nRm9ybVZpc2libGUgPSBmYWxzZTsKCiAgICAgICAgaWYgKCFyZXNwb25zZS5lcnJubykgewogICAgICAgICAgX3RoaXM2LiRub3RpZnkuc3VjY2Vzcyh7CiAgICAgICAgICAgIHRpdGxlOiBfdGhpczYuJHQoJ3V0aWwuc3VjY2VzcycpLAogICAgICAgICAgICBtZXNzYWdlOiBfdGhpczYuJHQoJ3N5c3RlbU1hbmFnZW1lbnQuYWRkaW5nQWRtaW5pc3RyYXRvclN1Y2NlZWRlZCcpCiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXM2LiRub3RpZnkuZXJyb3IoewogICAgICAgICAgICB0aXRsZTogX3RoaXM2LiR0KCd1dGlsLmZhaWwnKSwKICAgICAgICAgICAgbWVzc2FnZTogX3RoaXM2LiR0KCdyZXNwb25zZS4nICsgcmVzcG9uc2UuZGF0YS5lcnJubykKICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgX3RoaXM2LmluaXQoKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXM2LiRub3RpZnkuZXJyb3IoewogICAgICAgICAgdGl0bGU6IF90aGlzNi4kdCgndXRpbC5mYWlsJyksCiAgICAgICAgICBtZXNzYWdlOiBfdGhpczYuJHQoJ3Jlc3BvbnNlLicgKyByZXNwb25zZS5kYXRhLmVycm5vKQogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBoYW5kbGVyVXBsb2FkOiBmdW5jdGlvbiBoYW5kbGVyVXBsb2FkKCkgewogICAgICB2YXIgX3RoaXM3ID0gdGhpczsKCiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgdmFyIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgICAgZm9ybURhdGEuYXBwZW5kKCJmaWxlIiwgX3RoaXM3LmZpbGVJbWFnZSk7CgogICAgICAgIF90aGlzNy4kYXBpKCJzdG9yYWdlLmNyZWF0ZSIsIGZvcm1EYXRhKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIGlmIChfdGhpczcuJHRvb2wuY2hlY2tSZXNwb25zZShyZXMpKSB7CiAgICAgICAgICAgIHJlc29sdmUocmVzLmRhdGEpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmVqZWN0KHJlcyk7CiAgICAgICAgICB9CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgcmVqZWN0KGVycik7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQogIH0sIF9kZWZpbmVQcm9wZXJ0eShfbWV0aG9kcywgInVwbG9hZENoYW5nZSIsIGZ1bmN0aW9uIHVwbG9hZENoYW5nZShmaWxlKSB7CiAgICB0aGlzLmZpbGVsaXN0ID0gW107CiAgICB0aGlzLmZpbGVJbWFnZSA9IGZpbGUucmF3OwogICAgdmFyIGV2ZW50ID0gZXZlbnQgfHwgd2luZG93LmV2ZW50OwogICAgdmFyIGZpbGUgPSBldmVudC50YXJnZXQuZmlsZXNbMF07CiAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTsKCiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbiAoZSkgewogICAgICBfdGhpcy5kYXRhRm9ybS5hdmF0YXIgPSBlLnRhcmdldC5yZXN1bHQ7CiAgICB9OwoKICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpOwogIH0pLCBfZGVmaW5lUHJvcGVydHkoX21ldGhvZHMsICJoYW5kbGVVcGRhdGUiLCBmdW5jdGlvbiBoYW5kbGVVcGRhdGUocm93KSB7CiAgICB2YXIgX3RoaXM4ID0gdGhpczsKCiAgICB0aGlzLmZpbGVJbWFnZSA9ICIiOwogICAgdGhpcy5kYXRhRm9ybSA9IE9iamVjdC5hc3NpZ24oe30sIHJvdyk7CiAgICB0aGlzLmRpYWxvZ1N0YXR1cyA9ICd1cGRhdGUnOwogICAgdGhpcy5kaWFsb2dGb3JtVmlzaWJsZSA9IHRydWU7CiAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgIF90aGlzOC4kcmVmc1snZGF0YUZvcm0nXS5jbGVhclZhbGlkYXRlKCk7CiAgICB9KTsKICB9KSwgX2RlZmluZVByb3BlcnR5KF9tZXRob2RzLCAiZmFpbENhbGxiYWNrIiwgZnVuY3Rpb24gZmFpbENhbGxiYWNrKGVycikgewogICAgdGhpcy5hcGlMb2FkaW5nID0gZmFsc2U7CiAgICB0aGlzLiRub3RpZnkuZXJyb3IoewogICAgICB0aXRsZTogdGhpcy4kdCgiYmxpbmQuZmFpbCIpLAogICAgICBtZXNzYWdlOiBlcnIgPyB0aGlzLiR0KCJyZXNwb25zZS4iICsgZXJyLmRhdGEgPyBlcnIuZGF0YS5lcnJubyA6ICIiKSA6IHRoaXMuJHQoImJsaW5kLm1lc3NhZ2VGYWlsIikKICAgIH0pOwoKICAgIGlmICh0aGlzLmRpYWxvZ1N0YXR1cyA9PSAiZGVsIiB8fCB0aGlzLmRpYWxvZ1N0YXR1cyA9PSAic3luYyIpIHsKICAgICAgdGhpcy5oYW5kbGVyQ2FuY2VsKCk7CiAgICB9CiAgfSksIF9kZWZpbmVQcm9wZXJ0eShfbWV0aG9kcywgInVwZGF0ZURhdGEiLCBmdW5jdGlvbiB1cGRhdGVEYXRhKCkgewogICAgdmFyIF90aGlzOSA9IHRoaXM7CgogICAgdGhpcy4kcmVmc1snZGF0YUZvcm0nXS52YWxpZGF0ZShmdW5jdGlvbiAodmFsaWQpIHsKICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgaWYgKF90aGlzOS5maWxlSW1hZ2UpIHsKICAgICAgICAgIFByb21pc2UuYWxsKFtfdGhpczkuaGFuZGxlclVwbG9hZCgpXSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCd1cGRhdGUnKTsKCiAgICAgICAgICAgIF90aGlzOS5lZGl0QXBpKHJlcyk7CiAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICAgIF90aGlzOS5mYWlsQ2FsbGJhY2soKTsKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpczkuZWRpdEFwaSgpOwogICAgICAgIH0KICAgICAgfQogICAgfSk7CiAgfSksIF9kZWZpbmVQcm9wZXJ0eShfbWV0aG9kcywgImVkaXRBcGkiLCBmdW5jdGlvbiBlZGl0QXBpKGZpbGUpIHsKICAgIHZhciBfdGhpczEwID0gdGhpczsKCiAgICBjb25zb2xlLmxvZyhmaWxlKTsKICAgIHZhciBhdmF0YXIgPSB0aGlzLmRhdGFGb3JtLmF2YXRhcjsKICAgIGF2YXRhciA9IGZpbGUgPyBmaWxlWzBdLnVybCA6IGF2YXRhcjsKICAgIHRoaXMuZGF0YUZvcm0uYXZhdGFyID0gYXZhdGFyOwogICAgdGhpcy4kYXBpKCdhZG1pbi51cGRhdGVBZG1pbicsIHRoaXMuZGF0YUZvcm0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgIC8vIGZvciAoY29uc3QgdiBvZiB0aGlzLmxpc3QpIHsKICAgICAgLy8gICBpZiAodi5pZCA9PT0gdGhpcy5kYXRhRm9ybS5pZCkgewogICAgICAvLyAgICAgY29uc3QgaW5kZXggPSB0aGlzLmxpc3QuaW5kZXhPZih2KQogICAgICAvLyAgICAgdGhpcy5saXN0LnNwbGljZShpbmRleCwgMSwgdGhpcy5kYXRhRm9ybSkKICAgICAgLy8gICAgIGJyZWFrCiAgICAgIC8vICAgfQogICAgICAvLyB9CiAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsKCiAgICAgIGlmICghcmVzcG9uc2UuZXJybm8pIHsKICAgICAgICBfdGhpczEwLmdldExpc3QoKTsKCiAgICAgICAgX3RoaXMxMC4kbm90aWZ5LnN1Y2Nlc3MoewogICAgICAgICAgdGl0bGU6IF90aGlzMTAuJHQoJ3V0aWwuc3VjY2VzcycpLAogICAgICAgICAgbWVzc2FnZTogX3RoaXMxMC4kdCgnc3lzdGVtTWFuYWdlbWVudC51cGRhdGVBZG1pbmlzdHJhdG9yU3VjY2VlZGVkJykKICAgICAgICB9KTsKCiAgICAgICAgX3RoaXMxMC5kaWFsb2dGb3JtVmlzaWJsZSA9IGZhbHNlOwogICAgICB9IGVsc2UgewogICAgICAgIF90aGlzMTAuJG5vdGlmeS5lcnJvcih7CiAgICAgICAgICB0aXRsZTogX3RoaXMxMC4kdCgndXRpbC5mYWlsJyksCiAgICAgICAgICBtZXNzYWdlOiBfdGhpczEwLiR0KCdyZXNwb25zZS4nICsgcmVzcG9uc2UuZGF0YS5lcnJubykKICAgICAgICB9KTsKICAgICAgfQogICAgfSkuY2F0Y2goZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgIF90aGlzMTAuJG5vdGlmeS5lcnJvcih7CiAgICAgICAgdGl0bGU6IF90aGlzMTAuJHQoJ3V0aWwuZmFpbCcpLAogICAgICAgIG1lc3NhZ2U6IF90aGlzMTAuJHQoJ3Jlc3BvbnNlLicgKyByZXNwb25zZS5kYXRhLmVycm5vKQogICAgICB9KTsKICAgIH0pOwogIH0pLCBfZGVmaW5lUHJvcGVydHkoX21ldGhvZHMsICJoYW5kbGVEZWxldGUiLCBmdW5jdGlvbiBoYW5kbGVEZWxldGUocm93KSB7CiAgICB2YXIgX3RoaXMxMSA9IHRoaXM7CgogICAgdGhpcy4kYXBpKCdhZG1pbi5kZWxldGVBZG1pbicsIHJvdykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgaWYgKCFyZXNwb25zZS5lcnJubykgewogICAgICAgIF90aGlzMTEuJG5vdGlmeS5zdWNjZXNzKHsKICAgICAgICAgIHRpdGxlOiBfdGhpczExLiR0KCd1dGlsLnN1Y2Nlc3MnKSwKICAgICAgICAgIG1lc3NhZ2U6IF90aGlzMTEuJHQoJ3N5c3RlbU1hbmFnZW1lbnQudXBkYXRlQWRtaW5pc3RyYXRvclN1Y2NlZWRlZCcpCiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgX3RoaXMxMS4kbm90aWZ5LmVycm9yKHsKICAgICAgICAgIHRpdGxlOiBfdGhpczExLiR0KCd1dGlsLmZhaWwnKSwKICAgICAgICAgIG1lc3NhZ2U6IF90aGlzMTEuJHQoJ3Jlc3BvbnNlLicgKyByZXNwb25zZS5kYXRhLmVycm5vKQogICAgICAgIH0pOwogICAgICB9CgogICAgICBfdGhpczExLmdldExpc3QoKTsKICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICBfdGhpczExLiRub3RpZnkuZXJyb3IoewogICAgICAgIHRpdGxlOiBfdGhpczExLiR0KCd1dGlsLmZhaWwnKSwKICAgICAgICBtZXNzYWdlOiBfdGhpczExLiR0KCdyZXNwb25zZS4nICsgcmVzcG9uc2UuZGF0YS5lcnJubykKICAgICAgfSk7CiAgICB9KTsKICB9KSwgX2RlZmluZVByb3BlcnR5KF9tZXRob2RzLCAiaGFuZGxlRG93bmxvYWQiLCBmdW5jdGlvbiBoYW5kbGVEb3dubG9hZCgpIHsKICAgIHZhciBfdGhpczEyID0gdGhpczsKCiAgICB0aGlzLmRvd25sb2FkTG9hZGluZyA9IHRydWU7CiAgICBpbXBvcnQoJ0AvdmVuZG9yL0V4cG9ydDJFeGNlbCcpLnRoZW4oZnVuY3Rpb24gKGV4Y2VsKSB7CiAgICAgIHZhciB0SGVhZGVyID0gW190aGlzMTIuJHQoJ3N5c3RlbU1hbmFnZW1lbnQuYWRtaW5pc3RyYXRvcklEJyksIF90aGlzMTIuJHQoJ3N5c3RlbU1hbmFnZW1lbnQuYWRtaW5pc3RyYXRvck5hbWUnKSwgX3RoaXMxMi4kdCgnc3lzdGVtTWFuYWdlbWVudC5hZG1pbmlzdHJhdG9yQXZhdGFyJyldOwogICAgICB2YXIgZmlsdGVyVmFsID0gWydpZCcsICd1c2VybmFtZScsICdhdmF0YXInXTsKICAgICAgZXhjZWwuZXhwb3J0X2pzb25fdG9fZXhjZWwyKHRIZWFkZXIsIF90aGlzMTIubGlzdCwgZmlsdGVyVmFsLCBfdGhpczEyLiR0KCdzeXN0ZW1NYW5hZ2VtZW50LmFkbWluaXN0cmF0b3JJbmZvcm1hdGlvbicpKTsKICAgICAgX3RoaXMxMi5kb3dubG9hZExvYWRpbmcgPSBmYWxzZTsKICAgIH0pOwogIH0pLCBfbWV0aG9kcykKfTs="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2FA;AACA;AACA,iD,CAAA;;AACA;AACA;AACAA,eADA;AAEAC;AAAAC;AAAAC;AAAA,GAFA;AAGAC,MAHA,kBAGA;AACA;AACAC,4BADA;AAEAC,gBAFA;AAGAC,cAHA;AAIAC,uBAJA;AAKAC,uBALA;AAMAC;AACAC,eADA;AAEAC,iBAFA;AAGAC,2BAHA;AAIAC,2BAJA;AAKAC;AALA,OANA;AAaAC;AACAC,qBADA;AAEAJ,2BAFA;AAGAK,2BAHA;AAIAC,yBAJA;AAKAC;AALA,OAbA;AAoBAC,8BApBA;AAqBAC,sBArBA;AAsBAC;AACAC,gDADA;AAEAC;AAFA,OAtBA;AA0BAC;AACAb,mBACA;AAAAc;AAAAC;AAAAC;AAAA,SADA,CADA;AAIAX;AAAAS;AAAAC;AAAAC;AAAA;AAJA,OA1BA;AAgCAC,4BAhCA;AAiCAC,kBAjCA;AAkCAC;AAlCA;AAoCA,GAxCA;AAyCAC,SAzCA,qBAyCA;AACA;AACA,GA3CA;AA4CAC;AACAC,QADA,kBACA;AAAA;;AACA;AACA,oCACAC,IADA,CACA;AACA;AACA,OAHA;AAIA,KAPA;AAQAC,cARA,sBAQAC,MARA,EAQAC,KARA,EAQA;AACA;;AACA;AACA;AACA;AACA;AACA;;AACA;AACA,KAhBA;AAiBAC,WAjBA,qBAiBA;AAAA;;AACA;AACA,mDACAJ,IADA,CACA;AACA;AACA;AACA;AACA,OALA,EAMAK,KANA,CAMA;AACA;AACA;AACA;AACA,OAVA;AAWA,KA9BA;AA+BAC,gBA/BA,0BA+BA;AACA;AACA;AACA,KAlCA;AAmCAC,aAnCA,uBAmCA;AACA;AACA1B,qBADA;AAEAJ,2BAFA;AAGAK,2BAHA;AAIAC,yBAJA;AAKAC;AALA;AAOA;AACA,KA5CA;AA6CAwB,gBA7CA,wBA6CAC,IA7CA,EA6CA;AACA;AACA;AACA;AACA;AACA;;AACA;;AACAC;AACAC;AACA,OAFA;;AAGAD;AACA,KAxDA;AAyDAE,gBAzDA,0BAyDA;AAAA;;AACA;AACA;AACA;AACA;AACA;AACA,OAFA;AAGA,KAhEA;AAiEAC,cAjEA,wBAiEA;AAAA;;AACA;AACA;AACA;AACAC,kDACAd,IADA,CACA;AACA;AACA,aAHA,EAIAK,KAJA,CAIA;AACA;AACA,aANA;AAOA,WARA,MAQA;AACA;AACA;AACA;AACA,OAdA;AAeA,KAjFA;AAkFAU,aAlFA,qBAkFAN,IAlFA,EAkFA;AAAA;;AACA;AACA1B;AACA;AACA,oDACAiB,IADA,CACA;AACA;;AACA;;AACA;AACA;AACAgB,4CADA;AAEAxB;AAFA;AAIA,SALA,MAMA;AACA;AACAwB,yCADA;AAEAxB;AAFA;AAIA;;AACA;AACA,OAjBA,EAkBAa,KAlBA,CAkBA;AACA;AACAW,uCADA;AAEAxB;AAFA;AAIA,OAvBA;AAwBA,KA9GA;AA+GAyB,iBA/GA,2BA+GA;AAAA;;AACA;AACA;AACAC;;AACA,gDACAlB,IADA,CACA;AACA;AACAmB;AACA,WAFA,MAEA;AACAC;AACA;AACA,SAPA,EAQAf,KARA,CAQA;AACAe;AACA,SAVA;AAWA,OAdA;AAeA;AA/HA,qEAgIAX,IAhIA,EAgIA;AACA;AACA;AACA;AACA;AACA;;AACA;;AACAC;AACAC;AACA,KAFA;;AAGAD;AACA,GA3IA,mEA4IAW,GA5IA,EA4IA;AAAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAFA;AAGA,GApJA,mEAqJAC,GArJA,EAqJA;AACA;AACA;AACAN,kCADA;AAEAxB,qBACA,qDADA,GAEA;AAJA;;AAMA;AACA;AACA;AACA,GAhKA,iEAiKA;AAAA;;AACA;AACA;AACA;AACAsB,gDACAd,IADA,CACA;AACAuB;;AACA;AACA,WAJA,EAKAlB,KALA,CAKA;AACA;AACA,WAPA;AAQA,SATA,MASA;AACA;AACA;AAEA;AACA,KAhBA;AAiBA,GAnLA,yDAoLAI,IApLA,EAoLA;AAAA;;AACAc;AACA;AACAxC;AACA;AACA,kDACAiB,IADA,CACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAuB;;AACA;AACA;;AACA;AACAP,2CADA;AAEAxB;AAFA;;AAIA;AACA,OAPA,MAQA;AACA;AACAwB,wCADA;AAEAxB;AAFA;AAIA;AACA,KAxBA,EAyBAa,KAzBA,CAyBA;AACA;AACAW,sCADA;AAEAxB;AAFA;AAIA,KA9BA;AA+BA,GAxNA,mEAyNA6B,GAzNA,EAyNA;AAAA;;AACA,wCACArB,IADA,CACA;AACA;AACA;AACAgB,2CADA;AAEAxB;AAFA;AAIA,OALA,MAMA;AACA;AACAwB,wCADA;AAEAxB;AAFA;AAIA;;AACA;AACA,KAfA,EAgBAa,KAhBA,CAgBA;AACA;AACAW,sCADA;AAEAxB;AAFA;AAIA,KArBA;AAsBA,GAhPA,yEAiPA;AAAA;;AACA;AACA;AACA;AACA;AACAgC,kCACAC,OADA,EAEA,YAFA,EAGAC,SAHA,EAIA,uDAJA;AAMA;AACA,KAVA;AAWA,GA9PA;AA5CA","names":["name","components","Pagination","Media","data","uploadPath","list","total","roleOptions","listLoading","listQuery","page","limit","username","sort","order","dataForm","id","password","avatar","roleIds","dialogFormVisible","dialogStatus","textMap","update","create","rules","required","message","trigger","downloadLoading","filelist","fileImage","created","methods","init","then","formatRole","roleId","scope","getList","catch","handleFilter","resetForm","uploadChange","file","reader","_this","handleCreate","createData","Promise","createApi","title","handlerUpload","formData","resolve","reject","row","err","console","excel","tHeader","filterVal"],"sourceRoot":"src/views/sys","sources":["admin.vue"],"sourcesContent":["<template>\n  <div class=\"app-container\">\n\n    <!-- 查询和其他操作 -->\n    <div class=\"filter-container\">\n      <el-input v-model=\"listQuery.username\" clearable class=\"filter-item width-200px\" :placeholder=\"$t('systemManagement.placeholder1')\" />\n      <el-button v-permission=\"['GET /admin/admin/list']\" class=\"filter-item\" type=\"primary\" icon=\"el-icon-search\" @click=\"handleFilter\">{{$t('systemManagement.select')}}</el-button>\n      <el-button v-permission=\"['POST /admin/admin/create']\" class=\"filter-item\" type=\"primary\" icon=\"el-icon-edit\" @click=\"handleCreate\">{{$t('systemManagement.add')}}</el-button>\n      <el-button :loading=\"downloadLoading\" class=\"filter-item\" type=\"primary\" icon=\"el-icon-download\" @click=\"handleDownload\">{{$t('systemManagement.export')}}</el-button>\n    </div>\n\n    <!-- 查询结果 -->\n    <el-table v-loading=\"listLoading\" :data=\"list\" :element-loading-text=\"$t('util.loadingText')\" border fit highlight-current-row>\n      <el-table-column align=\"center\" :label=\"$t('systemManagement.administratorID')\" prop=\"id\" sortable />\n\n      <el-table-column align=\"center\" :label=\"$t('systemManagement.administratorName')\" prop=\"username\" />\n\n      <el-table-column align=\"center\" :label=\"$t('systemManagement.administratorAvatar')\" prop=\"avatar\">\n        <template slot-scope=\"scope\" v-if=\"scope.row.avatar\">\n          <media :url=\"scope.row.avatar\" type=\"image\" :isPreview=\"true\"></media>\n        </template>\n      </el-table-column>\n\n      <el-table-column align=\"center\" :label=\"$t('systemManagement.administratorRoles')\" prop=\"roleIds\">\n        <template slot-scope=\"scope\">\n          <el-tag v-for=\"roleId in scope.row.roleIds\" :key=\"roleId\" type=\"primary\" class=\"mr-20px\"> {{ formatRole(roleId,scope) }} </el-tag>\n        </template>\n      </el-table-column>\n\n      <el-table-column align=\"center\" :label=\"$t('systemManagement.operation')\" class-name=\"small-padding fixed-width\">\n        <template slot-scope=\"scope\">\n          <el-button v-permission=\"['POST /admin/admin/update']\" type=\"primary\" size=\"mini\" @click=\"handleUpdate(scope.row)\">{{$t('systemManagement.edit')}}</el-button>\n          <el-button v-permission=\"['POST /admin/admin/delete']\" type=\"danger\" size=\"mini\" @click=\"handleDelete(scope.row)\">{{$t('systemManagement.delete')}}</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <pagination v-show=\"total>0\" :total=\"total\" :page.sync=\"listQuery.page\" :limit.sync=\"listQuery.limit\" @pagination=\"getList\" />\n\n    <!-- 添加或修改对话框 -->\n    <el-dialog :title=\"textMap[dialogStatus]\" :visible.sync=\"dialogFormVisible\">\n      <el-form ref=\"dataForm\" :rules=\"rules\" :model=\"dataForm\" status-icon label-position=\"left\" label-width=\"100px\" class=\"dataFormClass\">\n        <el-form-item :label=\"$t('systemManagement.administratorName')\" prop=\"username\">\n          <el-input v-model=\"dataForm.username\" />\n        </el-form-item>\n        <el-form-item :label=\"$t('systemManagement.administratorPassword')\" prop=\"password\">\n          <el-input v-model=\"dataForm.password\" type=\"password\" auto-complete=\"off\" />\n        </el-form-item>\n        <el-form-item :label=\"$t('systemManagement.administratorAvatar')\" prop=\"avatar\">\n          <el-upload\n              ref=\"upload\"\n              action=\"\"\n              :auto-upload=\"false\"\n              :show-file-list=\"false\"\n              :file-list=\"filelist\"\n              :limit=\"1\"\n              class=\"avatar-uploader\"\n              accept=\"image/jpg, image/jpeg, image/png, image/gif\"\n              :on-change=\"\n                (file) => {\n                  uploadChange(file, 'uploadImage');\n                }\n              \"\n            >\n              <template v-if=\"dataForm.avatar\">\n                <media :url=\"dataForm.avatar\" type=\"image\"></media>\n              </template>\n              <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\n            </el-upload>\n        </el-form-item>\n        <el-form-item :label=\"$t('systemManagement.administratorRoles')\" prop=\"roleIds\">\n          <el-select v-model=\"dataForm.roleIds\" multiple :placeholder=\"$t('systemManagement.pleaseSelect')\">\n            <el-option\n              v-for=\"item in roleOptions\"\n              :key=\"item.value\"\n              :label=\"item.label\"\n              :value=\"item.value\"\n            />\n          </el-select>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dialogFormVisible = false\">{{$t('util.cancel')}}</el-button>\n        <el-button v-if=\"dialogStatus=='create'\" type=\"primary\" @click=\"createData\">{{$t('util.confirm')}}</el-button>\n        <el-button v-else type=\"primary\" @click=\"updateData\">{{$t('util.confirm')}}</el-button>\n      </div>\n    </el-dialog>\n\n  </div>\n</template>\n<script>\nimport { uploadPath } from '@/api/index'\nimport { getToken } from '@/utils/auth'\nimport Pagination from '@/components/Pagination' // Secondary package \nimport Media from \"@/components/Media\";\nexport default {\n  name: 'Admin',\n  components: { Pagination, Media },\n  data() {\n    return {\n      uploadPath,\n      list: null,\n      total: 0,\n      roleOptions: null,\n      listLoading: true,\n      listQuery: {\n        page: 1,\n        limit: 20,\n        username: undefined,\n        sort: 'create_time',\n        order: 'desc'\n      },\n      dataForm: {\n        id: undefined,\n        username: undefined,\n        password: undefined,\n        avatar: undefined,\n        roleIds: []\n      },\n      dialogFormVisible: false,\n      dialogStatus: '',\n      textMap: {\n        update: this.$t('systemManagement.edit'),\n        create: this.$t('systemManagement.create')\n      },\n      rules: {\n        username: [\n          { required: true, message: this.$t('systemManagement.rule1'), trigger: 'blur' }\n        ],\n        password: [{ required: true, message: this.$t('systemManagement.rule2'), trigger: 'blur' }]\n      },\n      downloadLoading: false,\n      filelist: [],\n      fileImage: \"\"\n    }\n  },\n  created() {\n   this.init();\n  },\n  methods: {\n    init(){\n    this.getList()\n    this.$api('role.roleOptions')\n      .then(response => {\n        this.roleOptions = response.data.list\n      })\n    },\n    formatRole(roleId,scope) {\n      if(this.roleOptions <=0 ) return;\n      for (let i = 0; i < this.roleOptions.length; i++) {\n        if (roleId === this.roleOptions[i].value) {\n          return this.roleOptions[i].label\n        }\n      }\n      return ''\n    },\n    getList() {\n      this.listLoading = true\n      this.$api('admin.listAdmin',this.listQuery)\n        .then(response => {\n          this.list = response.data.list\n          this.total = response.data.total\n          this.listLoading = false\n        })\n        .catch(() => {\n          this.list = []\n          this.total = 0\n          this.listLoading = false\n        })\n    },\n    handleFilter() {\n      this.listQuery.page = 1\n      this.getList()\n    },\n    resetForm() {\n      this.dataForm = {\n        id: undefined,\n        username: undefined,\n        password: undefined,\n        avatar: undefined,\n        roleIds: []\n      }\n      this.fileImage = \"\";\n    },\n    uploadChange(file) {\n      this.filelist = [];\n      this.fileImage = file.raw;\n      var event = event || window.event;\n      var file = event.target.files[0];\n      var reader = new FileReader();\n      var _this = this;\n      reader.onload = function (e) {\n        _this.dataForm.avatar = e.target.result;\n      };\n      reader.readAsDataURL(file);\n    },\n    handleCreate() {\n      this.resetForm()\n      this.dialogStatus = 'create'\n      this.dialogFormVisible = true\n      this.$nextTick(() => {\n        this.$refs['dataForm'].clearValidate()\n      })\n    },\n    createData() {\n      this.$refs['dataForm'].validate(valid => {\n        if (valid) {\n          if (this.fileImage) {\n            Promise.all([this.handlerUpload()])\n              .then((res) => {\n                this.createApi(res)\n              })\n              .catch((err) => {\n                this.failCallback();\n              });\n          } else {\n            this.createApi()\n          }\n        }\n      })\n    },\n    createApi(file) {\n      let {avatar} = this.dataForm;\n      avatar = file ? file[0].url : \"\";\n      this.dataForm.avatar = avatar;\nthis.$api('admin.createAdmin',this.dataForm)\n            .then(response => {\n              this.list.unshift(response.data)\n              this.dialogFormVisible = false\n              if(!response.errno){\n              this.$notify.success({\n                title: this.$t('util.success'),\n                message:this.$t('systemManagement.addingAdministratorSucceeded')\n              })\n              }\n              else{\n                this.$notify.error({\n                title: this.$t('util.fail'),\n                message: this.$t('response.'+response.data.errno)\n              })\n              }\n              this.init();\n            })\n            .catch(response => {\n              this.$notify.error({\n                title: this.$t('util.fail'),\n                message: this.$t('response.'+response.data.errno)\n              })\n            })\n    },\n    handlerUpload() {\n      return new Promise((resolve, reject) => {\n        let formData = new FormData();\n        formData.append(\"file\", this.fileImage);\n        this.$api(\"storage.create\", formData)\n          .then((res) => {\n            if (this.$tool.checkResponse(res)) {\n              resolve(res.data);\n            } else {\n              reject(res);\n            }\n          })\n          .catch((err) => {\n            reject(err);\n          });\n      });\n    },\n    uploadChange(file) {\n      this.filelist = [];\n      this.fileImage = file.raw;\n      var event = event || window.event;\n      var file = event.target.files[0];\n      var reader = new FileReader();\n      var _this = this;\n      reader.onload = function (e) {\n        _this.dataForm.avatar = e.target.result;\n      };\n      reader.readAsDataURL(file);\n    },\n    handleUpdate(row) {\n      this.fileImage = \"\";\n      this.dataForm = Object.assign({}, row);\n      this.dialogStatus = 'update'\n      this.dialogFormVisible = true\n      this.$nextTick(() => {\n        this.$refs['dataForm'].clearValidate()\n      })\n    },\n    failCallback(err) {\n      this.apiLoading = false;\n      this.$notify.error({\n        title: this.$t(\"blind.fail\"),\n        message: err\n          ? this.$t(\"response.\" + err.data ? err.data.errno: \"\")\n          : this.$t(\"blind.messageFail\"),\n      });\n      if (this.dialogStatus == \"del\" || this.dialogStatus == \"sync\") {\n        this.handlerCancel();\n      }\n    },\n    updateData() {\n      this.$refs['dataForm'].validate(valid => {\n        if (valid) {\n          if (this.fileImage) {\n            Promise.all([this.handlerUpload()])\n              .then((res) => {\n                console.log('update')\n                this.editApi(res)\n              })\n              .catch((err) => {\n                this.failCallback();\n              });\n          } else {\n            this.editApi()\n          }\n          \n        }\n      })\n    },\n    editApi(file) {\n      console.log(file)\n      let { avatar } = this.dataForm;\n      avatar = file ? file[0].url : avatar;\n      this.dataForm.avatar = avatar;\n      this.$api('admin.updateAdmin',this.dataForm)\n            .then((response) => {\n              // for (const v of this.list) {\n              //   if (v.id === this.dataForm.id) {\n              //     const index = this.list.indexOf(v)\n              //     this.list.splice(index, 1, this.dataForm)\n              //     break\n              //   }\n              // }\n              console.log(response)\n              if(!response.errno){\n                this.getList()\n                this.$notify.success({\n                  title: this.$t('util.success'),\n                  message: this.$t('systemManagement.updateAdministratorSucceeded')\n                })\n                this.dialogFormVisible = false\n              }\n              else{\n                this.$notify.error({\n                title: this.$t('util.fail'),\n                message: this.$t('response.'+response.data.errno)\n              })\n              }\n            })\n            .catch(response => {\n              this.$notify.error({\n                title: this.$t('util.fail'),\n                message: this.$t('response.'+response.data.errno)\n              })\n            })\n    },\n    handleDelete(row) {\n      this.$api('admin.deleteAdmin',row)\n        .then(response => {\n            if(!response.errno){\n                this.$notify.success({\n                  title: this.$t('util.success'),\n                  message: this.$t('systemManagement.updateAdministratorSucceeded')\n                })\n              }\n              else{\n                this.$notify.error({\n                title: this.$t('util.fail'),\n                message: this.$t('response.'+response.data.errno)\n              })\n              }\n          this.getList()\n        })\n        .catch(response => {\n          this.$notify.error({\n            title: this.$t('util.fail'),\n            message: this.$t('response.'+response.data.errno)\n          })\n        })\n    },\n    handleDownload() {\n      this.downloadLoading = true\n      import('@/vendor/Export2Excel').then(excel => {\n        const tHeader = [this.$t('systemManagement.administratorID'),this.$t('systemManagement.administratorName'), this.$t('systemManagement.administratorAvatar')]\n        const filterVal = ['id', 'username', 'avatar']\n        excel.export_json_to_excel2(\n          tHeader,\n          this.list,\n          filterVal,\n          this.$t('systemManagement.administratorInformation')\n        )\n        this.downloadLoading = false\n      })\n    }\n  }\n}\n</script>\n<style scoped>\n.avatar-uploader .el-upload {\n  border: 1px dashed #d9d9d9;\n  border-radius: 6px;\n  cursor: pointer;\n  position: relative;\n  overflow: hidden;\n}\n.avatar-uploader .el-upload:hover {\n  border-color: #20a0ff;\n}\n.avatar-uploader-icon {\n  font-size: 28px;\n  color: #8c939d;\n  width: 120px;\n  height: 120px;\n  line-height: 120px;\n  text-align: center;\n}\n.avatar {\n  width: 145px;\n  height: 145px;\n  display: block;\n}\n.width-200px{\n  width:200px;\n}\n.mr-20px{\n  margin-right: 20px;\n}\n.dataFormClass{\n  width: 400px; margin-left:50px;\n}\n</style>\n\n\n"]}]}