{"remainingRequest":"/Users/yanglin/Desktop/test/fingernft/vue-admin/node_modules/_babel-loader@8.2.3@babel-loader/lib/index.js!/Users/yanglin/Desktop/test/fingernft/vue-admin/node_modules/_eslint-loader@2.2.1@eslint-loader/index.js??ref--13-0!/Users/yanglin/Desktop/test/fingernft/vue-admin/src/api/index.js","dependencies":[{"path":"/Users/yanglin/Desktop/test/fingernft/vue-admin/src/api/index.js","mtime":1646290558166},{"path":"/Users/yanglin/Desktop/test/fingernft/vue-admin/babel.config.js","mtime":1646290558160},{"path":"/Users/yanglin/Desktop/test/fingernft/vue-admin/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanglin/Desktop/test/fingernft/vue-admin/node_modules/_babel-loader@8.2.3@babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/yanglin/Desktop/test/fingernft/vue-admin/node_modules/_eslint-loader@2.2.1@eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzNi5yZWdleHAuc3BsaXQiOwppbXBvcnQgcmVxdWVzdCBmcm9tICJAL2FwaS9yZXF1ZXN0IjsKaW1wb3J0IGFwaUxpc3QgZnJvbSAiQC9hcGkvYXBpTGlzdCI7CmltcG9ydCBxcyBmcm9tICJxcyI7CmltcG9ydCBzdG9yZSBmcm9tICdAL3N0b3JlJzsKCmZ1bmN0aW9uIGdldEFwaU9iaih1cmwpIHsKICB2YXIgYXBpQXJyYXkgPSB1cmwuc3BsaXQoIi4iKTsKICB2YXIgYXBpID0gYXBpTGlzdDsKICBhcGlBcnJheS5mb3JFYWNoKGZ1bmN0aW9uICh2KSB7CiAgICBhcGkgPSBhcGlbdl07CiAgfSk7CiAgcmV0dXJuIGFwaTsKfQoKdmFyIFVSTF9QUkVGSVggPSAiL2FkbWluIjsKZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYXBpKHVybCkgewogIHZhciBkYXRhID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTsKICB2YXIgdXJsX3ByZWZpeCA9IFVSTF9QUkVGSVg7CgogIGlmIChzdG9yZS5zdGF0ZS5hcHAuY3VycmVudE5ldHdvcmsgJiYgIXN0b3JlLnN0YXRlLmFwcC5jdXJyZW50TmV0d29yay5kZWZhdWx0KSB7CiAgICB1cmxfcHJlZml4ID0gIi8iICsgc3RvcmUuc3RhdGUuYXBwLmN1cnJlbnROZXR3b3JrLnN5bWJvbCArIHVybF9wcmVmaXg7CiAgfQoKICB2YXIgYXBpID0gZ2V0QXBpT2JqKHVybCk7CiAgdmFyIHBvc3QgPSB7CiAgICB1cmw6IHVybF9wcmVmaXggKyBhcGkudXJsLAogICAgbWV0aG9kOiBhcGkubWV0aG9kCiAgfTsKCiAgaWYgKHVybCA9PSAic3RvcmFnZS51cGxvYWQiIHx8IHVybCA9PSAic3RvcmFnZS5jcmVhdGUiIHx8IHVybCA9PSAic3RvcmFnZS5tdWx0aXVwbG9hZCIpIHsKICAgIHBvc3QuaGVhZGVycyA9IHsKICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdtdWx0aXBhcnQvZm9ybS1kYXRhJwogICAgfTsKICAgIHBvc3QuZGF0YSA9IGRhdGE7CiAgfSBlbHNlIHsKICAgIHZhciBtZXRob2QgPSBhcGkubWV0aG9kLnRvTG93ZXJDYXNlKCk7CgogICAgaWYgKG1ldGhvZCA9PSAicG9zdCIpIHsKICAgICAgcG9zdC5kYXRhID0gcXMuc3RyaW5naWZ5KGRhdGEpOwogICAgfSBlbHNlIHsKICAgICAgcG9zdC5wb3N0ID0gZGF0YTsKICAgIH0KICB9CgogIHJldHVybiByZXF1ZXN0KHBvc3QpOwp9"},{"version":3,"sources":["/Users/yanglin/Desktop/test/fingernft/vue-admin/src/api/index.js"],"names":["request","apiList","qs","store","getApiObj","url","apiArray","split","api","forEach","v","URL_PREFIX","data","url_prefix","state","app","currentNetwork","default","symbol","post","method","headers","toLowerCase","stringify"],"mappings":";;AAAA,OAAOA,OAAP,MAAoB,eAApB;AACA,OAAOC,OAAP,MAAoB,eAApB;AACA,OAAOC,EAAP,MAAe,IAAf;AACA,OAAOC,KAAP,MAAkB,SAAlB;;AAEA,SAASC,SAAT,CAAmBC,GAAnB,EAAwB;AACtB,MAAIC,QAAQ,GAAGD,GAAG,CAACE,KAAJ,CAAU,GAAV,CAAf;AACA,MAAIC,GAAG,GAAGP,OAAV;AACAK,EAAAA,QAAQ,CAACG,OAAT,CAAiB,UAAAC,CAAC,EAAI;AACpBF,IAAAA,GAAG,GAAGA,GAAG,CAACE,CAAD,CAAT;AACD,GAFD;AAGA,SAAOF,GAAP;AACD;;AAED,IAAMG,UAAU,GAAG,QAAnB;AAEA,eAAe,SAASH,GAAT,CAAaH,GAAb,EAA6B;AAAA,MAAXO,IAAW,uEAAJ,EAAI;AAC1C,MAAIC,UAAU,GAAGF,UAAjB;;AACA,MAAGR,KAAK,CAACW,KAAN,CAAYC,GAAZ,CAAgBC,cAAhB,IAAkC,CAACb,KAAK,CAACW,KAAN,CAAYC,GAAZ,CAAgBC,cAAhB,CAA+BC,OAArE,EAA6E;AAC3EJ,IAAAA,UAAU,GAAG,MAAMV,KAAK,CAACW,KAAN,CAAYC,GAAZ,CAAgBC,cAAhB,CAA+BE,MAArC,GAA8CL,UAA3D;AACD;;AAED,MAAIL,GAAG,GAAGJ,SAAS,CAACC,GAAD,CAAnB;AACA,MAAIc,IAAI,GAAG;AACTd,IAAAA,GAAG,EAAEQ,UAAU,GAAGL,GAAG,CAACH,GADb;AAETe,IAAAA,MAAM,EAAEZ,GAAG,CAACY;AAFH,GAAX;;AAIA,MAAIf,GAAG,IAAI,gBAAP,IAA2BA,GAAG,IAAI,gBAAlC,IAAsDA,GAAG,IAAE,qBAA/D,EAAsF;AACpFc,IAAAA,IAAI,CAACE,OAAL,GAAe;AAAE,sBAAgB;AAAlB,KAAf;AACAF,IAAAA,IAAI,CAACP,IAAL,GAAYA,IAAZ;AACD,GAHD,MAGM;AACJ,QAAIQ,MAAM,GAAGZ,GAAG,CAACY,MAAJ,CAAWE,WAAX,EAAb;;AACA,QAAIF,MAAM,IAAI,MAAd,EAAsB;AACpBD,MAAAA,IAAI,CAACP,IAAL,GAAYV,EAAE,CAACqB,SAAH,CAAaX,IAAb,CAAZ;AACD,KAFD,MAEO;AACLO,MAAAA,IAAI,CAACA,IAAL,GAAYP,IAAZ;AACD;AACF;;AACD,SAAOZ,OAAO,CAACmB,IAAD,CAAd;AACD","sourcesContent":["import request from \"@/api/request\";\r\nimport apiList from \"@/api/apiList\";\r\nimport qs from \"qs\";\r\nimport store from '@/store'\r\n\r\nfunction getApiObj(url) {\r\n  let apiArray = url.split(\".\");\r\n  let api = apiList;\r\n  apiArray.forEach(v => {\r\n    api = api[v];\r\n  });\r\n  return api;\r\n}\r\n\r\nconst URL_PREFIX = \"/admin\"\r\n\r\nexport default function api(url, data = {}) {\r\n  let url_prefix = URL_PREFIX;\r\n  if(store.state.app.currentNetwork && !store.state.app.currentNetwork.default){\r\n    url_prefix = \"/\" + store.state.app.currentNetwork.symbol + url_prefix;\r\n  }\r\n  \r\n  var api = getApiObj(url);\r\n  var post = {\r\n    url: url_prefix + api.url,\r\n    method: api.method,\r\n  };\r\n  if (url == \"storage.upload\" || url == \"storage.create\" || url==\"storage.multiupload\") {\r\n    post.headers = { 'Content-Type': 'multipart/form-data' }\r\n    post.data = data;\r\n  }else {\r\n    var method = api.method.toLowerCase();\r\n    if (method == \"post\") {\r\n      post.data = qs.stringify(data);\r\n    } else {\r\n      post.post = data;\r\n    }\r\n  }\r\n  return request(post);\r\n}\r\n\r\n\r\n"]}]}