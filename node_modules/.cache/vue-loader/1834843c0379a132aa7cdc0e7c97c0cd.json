{"remainingRequest":"/Users/yanglin/Desktop/test/fingernft/vue-admin/node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!/Users/yanglin/Desktop/test/fingernft/vue-admin/src/views/paytoken/list.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yanglin/Desktop/test/fingernft/vue-admin/src/views/paytoken/list.vue","mtime":1646290558227},{"path":"/Users/yanglin/Desktop/test/fingernft/vue-admin/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanglin/Desktop/test/fingernft/vue-admin/node_modules/_babel-loader@8.2.3@babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/yanglin/Desktop/test/fingernft/vue-admin/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanglin/Desktop/test/fingernft/vue-admin/node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgUGFnaW5hdGlvbiBmcm9tICJAL2NvbXBvbmVudHMvUGFnaW5hdGlvbiI7IC8vIFNlY29uZGFyeSBwYWNrYWdlIGJhc2VkIG9uIGVsLXBhZ2luYXRpb24NCg0KZXhwb3J0IGRlZmF1bHQgew0KICBjb21wb25lbnRzOiB7IFBhZ2luYXRpb24gfSwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgbGlzdDogbnVsbCwNCiAgICAgIGxpc3RMb2FkaW5nOiB0cnVlLA0KICAgICAgdHlwZXM6IFsNCiAgICAgICAgeyB2YWx1ZTogMCwgbmFtZTogIkVUSCIgfSwNCiAgICAgICAgeyB2YWx1ZTogMSwgbmFtZTogIkVSQzIwIiB9LA0KICAgICAgXSwNCiAgICAgIGxpc3RRdWVyeTogew0KICAgICAgICBwYWdlOiAxLA0KICAgICAgICBsaW1pdDogMTAsDQogICAgICAgIHVzZXJuYW1lOiB1bmRlZmluZWQsDQogICAgICAgIG1vYmlsZTogdW5kZWZpbmVkLA0KICAgICAgICBzb3J0OiAiY3JlYXRlX3RpbWUiLA0KICAgICAgICBvcmRlcjogImRlc2MiLA0KICAgICAgfSwNCiAgICAgIGRpYWxvZ0Zvcm1WaXNpYmxlOiBmYWxzZSwNCiAgICAgIGRpYWxvZ1N0YXR1czogIiIsDQogICAgICBkYXRhRm9ybToge30sDQogICAgICBydWxlczogew0KICAgICAgICBuYW1lOiBbIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6IHRoaXMuJHQoJ3BheXRva2VuLmVtcHR5TmFtZScpLCB0cmlnZ2VyOiAiYmx1ciIgfSBdLA0KICAgICAgICBzeW1ib2w6IFsgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogdGhpcy4kdCgncGF5dG9rZW4uZW1wdHlTeW1ib2wnKSwgdHJpZ2dlcjogImJsdXIiIH0gXSwNCiAgICAgICAgZGVjaW1hbHM6IFsgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogdGhpcy4kdCgncGF5dG9rZW4uZW1wdHlEZWNpbWFscycpLCB0cmlnZ2VyOiAiYmx1ciIgfSBdLA0KICAgICAgICBhZGRyZXNzOiBbIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6IHRoaXMuJHQoJ3BheXRva2VuLmVtcHR5QWRkcmVzcycpLCB0cmlnZ2VyOiAiYmx1ciIgfSBdLA0KICAgICAgfSwNCiAgICAgIHRleHRNYXA6IHsNCiAgICAgICAgdXBkYXRlOiB0aGlzLiR0KCdnbG9iYWwuZWRpdCcpLA0KICAgICAgICBkZXRhaWw6IHRoaXMuJHQoJ2dsb2JhbC5kZXRhaWwnKSwNCiAgICAgICAgY3JlYXRlOiB0aGlzLiR0KCdnbG9iYWwuY3JlYXRlJyksDQogICAgICB9LA0KICAgIH07DQogIH0sDQogIGNyZWF0ZWQoKSB7DQogICAgdGhpcy5nZXRMaXN0KCk7DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBnZXRUb2tlblR5cGUodHlwZSl7DQogICAgICBmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy50eXBlcy5sZW5ndGg7IGkrKyl7DQogICAgICAgIGlmKHR5cGUgPT0gdGhpcy50eXBlc1tpXS52YWx1ZSl7DQogICAgICAgICAgcmV0dXJuIHRoaXMudHlwZXNbaV0ubmFtZTsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0sDQogICAgZ2V0TGlzdCgpIHsNCiAgICAgIHRoaXMubGlzdExvYWRpbmcgPSB0cnVlOw0KICAgICAgdGhpcy4kYXBpKCJwYXl0b2tlbi5saXN0IiwgdGhpcy5saXN0UXVlcnkpLnRoZW4oKHJlcykgPT4gew0KICAgICAgICB0aGlzLmxpc3QgPSByZXMuZGF0YS5saXN0Ow0KICAgICAgICB0aGlzLmxpc3RMb2FkaW5nID0gZmFsc2U7DQogICAgICB9KS5jYXRjaCgoZXJyKSA9PiB7DQogICAgICAgIHRoaXMubGlzdCA9IFtdOw0KICAgICAgICB0aGlzLmxpc3RMb2FkaW5nID0gZmFsc2U7DQogICAgICB9KTsNCiAgICB9LA0KICAgIGhhbmRsZUZpbHRlcigpIHsNCiAgICAgIHRoaXMubGlzdFF1ZXJ5LnBhZ2UgPSAxOw0KICAgICAgdGhpcy5nZXRMaXN0KCk7DQogICAgfSwNCiAgICByZXNldEZvcm0oKSB7DQogICAgICB0aGlzLmRhdGFGb3JtID0ge307DQogICAgfSwNCiAgICBoYW5kbGVDcmVhdGUoKSB7DQogICAgICB0aGlzLnJlc2V0Rm9ybSgpOw0KICAgICAgdGhpcy5kaWFsb2dTdGF0dXMgPSAiY3JlYXRlIjsNCiAgICAgIHRoaXMuZGlhbG9nRm9ybVZpc2libGUgPSB0cnVlOw0KICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gew0KICAgICAgICB0aGlzLiRyZWZzWyJkYXRhRm9ybSJdLmNsZWFyVmFsaWRhdGUoKTsNCiAgICAgIH0pOw0KICAgIH0sDQogICAgY3JlYXRlRGF0YSgpIHsNCiAgICAgIHRoaXMuJHJlZnNbImRhdGFGb3JtIl0udmFsaWRhdGUoKHZhbGlkKSA9PiB7DQogICAgICAgIGlmICh2YWxpZCkgew0KICAgICAgICAgIHZhciBkYXRhID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5kYXRhRm9ybSk7DQogICAgICAgICAgZGF0YS5pc0RlZmF1bHQgPSAhZGF0YS5pc0RlZmF1bHQgPyAwOiAxOw0KICAgICAgICAgIGlmKGRhdGEudHlwZSA9PSAwKSBkYXRhLmlzRGVmYXVsdCA9IDA7DQoNCiAgICAgICAgICB0aGlzLiRhcGkoJ3BheXRva2VuLmNyZWF0ZScsIGRhdGEpDQogICAgICAgICAgICAudGhlbigocmVzKSA9PiB7DQogICAgICAgICAgICAgIGlmKHRoaXMuJHRvb2wuY2hlY2tSZXNwb25zZShyZXMpKXsNCiAgICAgICAgICAgICAgICB0aGlzLmRpYWxvZ0Zvcm1WaXNpYmxlID0gZmFsc2U7DQogICAgICAgICAgICAgICAgdGhpcy4kbm90aWZ5LnN1Y2Nlc3Moew0KICAgICAgICAgICAgICAgICAgdGl0bGU6IHRoaXMuJHQoJ2dsb2JhbC5zdWNjZXNzJyksDQogICAgICAgICAgICAgICAgICBtZXNzYWdlOiB0aGlzLiR0KCdnbG9iYWwuY3JlYXRlU3VjY2VzcycpLA0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIHRoaXMuZ2V0TGlzdCgpOw0KICAgICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICB0aGlzLiRub3RpZnkuZXJyb3Ioew0KICAgICAgICAgICAgICAgICAgdGl0bGU6IHRoaXMuJHQoJ2dsb2JhbC5jcmVhdGVGYWlsJyksDQogICAgICAgICAgICAgICAgICBtZXNzYWdlOiByZXMuZXJybXNnLA0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KQ0KICAgICAgICAgICAgLmNhdGNoKChyZXMpID0+IHsNCiAgICAgICAgICAgICAgdGhpcy4kbm90aWZ5LmVycm9yKHsNCiAgICAgICAgICAgICAgICB0aXRsZTogdGhpcy4kdCgnZ2xvYmFsLmNyZWF0ZUZhaWwnKSwNCiAgICAgICAgICAgICAgICBtZXNzYWdlOnRoaXMuJHQoJ3Jlc3BvbnNlLicgKyByZXMuZGF0YS5lcnJubykNCiAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgfQ0KICAgICAgfSk7DQogICAgfSwNCiAgICBoYW5kbGVVcGRhdGUocm93KSB7DQogICAgICB0aGlzLmRhdGFGb3JtID0gT2JqZWN0LmFzc2lnbih7fSwgcm93KTsNCiAgICAgIHRoaXMuZGF0YUZvcm0uaXNEZWZhdWx0ID0gdGhpcy5kYXRhRm9ybS5pc0RlZmF1bHQgPT0gMSA/IHRydWUgOiBmYWxzZTsNCiAgICAgIHRoaXMuZGlhbG9nU3RhdHVzID0gInVwZGF0ZSI7DQogICAgICB0aGlzLmRpYWxvZ0Zvcm1WaXNpYmxlID0gdHJ1ZTsNCiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsNCiAgICAgICAgdGhpcy4kcmVmc1siZGF0YUZvcm0iXS5jbGVhclZhbGlkYXRlKCk7DQogICAgICB9KTsNCiAgICB9LA0KICAgIHVwZGF0ZURhdGEoKSB7DQogICAgICB0aGlzLiRyZWZzWyJkYXRhRm9ybSJdLnZhbGlkYXRlKCh2YWxpZCkgPT4gew0KICAgICAgICBpZiAodmFsaWQpIHsNCiAgICAgICAgICB2YXIgZGF0YSA9IHsNCiAgICAgICAgICAgIGlkOiB0aGlzLmRhdGFGb3JtLmlkLA0KICAgICAgICAgICAgbmFtZTogdGhpcy5kYXRhRm9ybS5uYW1lLA0KICAgICAgICAgICAgc3ltYm9sOiB0aGlzLmRhdGFGb3JtLnN5bWJvbCwNCiAgICAgICAgICAgIGRlY2ltYWxzOiB0aGlzLmRhdGFGb3JtLmRlY2ltYWxzLA0KICAgICAgICAgICAgdHlwZTogdGhpcy5kYXRhRm9ybS50eXBlLA0KICAgICAgICAgICAgYWRkcmVzczogdGhpcy5kYXRhRm9ybS5hZGRyZXNzLA0KICAgICAgICAgICAgaXNEZWZhdWx0OiAhdGhpcy5kYXRhRm9ybS5pc0RlZmF1bHQgPyAwIDogMSwNCiAgICAgICAgICB9Ow0KICAgICAgICAgIHRoaXMuJGFwaSgncGF5dG9rZW4udXBkYXRlJywgZGF0YSkNCiAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHsNCiAgICAgICAgICAgICAgaWYodGhpcy4kdG9vbC5jaGVja1Jlc3BvbnNlKHJlcykpew0KICAgICAgICAgICAgICAgIHRoaXMuZGlhbG9nRm9ybVZpc2libGUgPSBmYWxzZTsNCiAgICAgICAgICAgICAgICB0aGlzLiRub3RpZnkuc3VjY2Vzcyh7DQogICAgICAgICAgICAgICAgICB0aXRsZTogdGhpcy4kdCgnZ2xvYmFsLnN1Y2Nlc3MnKSwNCiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHRoaXMuJHQoJ2dsb2JhbC5lZGl0U3VjY2VzcycpLA0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIHRoaXMuZ2V0TGlzdCgpOw0KICAgICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICB0aGlzLiRub3RpZnkuZXJyb3Ioew0KICAgICAgICAgICAgICAgICAgdGl0bGU6IHRoaXMuJHQoJ2dsb2JhbC5mYWlsJyksDQogICAgICAgICAgICAgICAgICBtZXNzYWdlOiByZXMuZXJybXNnDQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pDQogICAgICAgICAgICAuY2F0Y2goKHJlcykgPT4gew0KICAgICAgICAgICAgICB0aGlzLiRub3RpZnkuZXJyb3Ioew0KICAgICAgICAgICAgICAgIHRpdGxlOiB0aGlzLiR0KCdnbG9iYWwuZmFpbCcpLA0KICAgICAgICAgICAgICAgIG1lc3NhZ2U6dGhpcy4kdCgncmVzcG9uc2UuJysgcmVzLmRhdGEuZXJybm8pDQogICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfSk7DQogICAgICAgIH0NCiAgICAgIH0pOw0KICAgIH0sDQogICAgaGFuZGxlRGVsZXRlKHJvdykgew0KICAgICAgdGhpcy4kY29uZmlybSh0aGlzLiR0KCdnbG9iYWwuZGVsZXRlVGlwJyksIHRoaXMuJHQoJ2dsb2JhbC50aXAnKSwgew0KICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogdGhpcy4kdCgnZ2xvYmFsLmNvbmZpcm0nKSwNCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogdGhpcy4kdCgnZ2xvYmFsLmNhbmNlbCcpLA0KICAgICAgICB0eXBlOiAid2FybmluZyIsDQogICAgICB9KQ0KICAgICAgICAudGhlbigoKSA9PiB7DQogICAgICAgICAgdGhpcy4kYXBpKCdwYXl0b2tlbi5kZWxldGUnLHsgYWRkcmVzczogcm93LmFkZHJlc3N9KQ0KICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4gew0KICAgICAgICAgICAgICBpZih0aGlzLiR0b29sLmNoZWNrUmVzcG9uc2UocmVzKSl7DQogICAgICAgICAgICAgICAgdGhpcy4kbm90aWZ5LnN1Y2Nlc3Moew0KICAgICAgICAgICAgICAgICAgdGl0bGU6IHRoaXMuJHQoJ2dsb2JhbC5zdWNjZXNzJyksDQogICAgICAgICAgICAgICAgICBtZXNzYWdlOiB0aGlzLiR0KCdnbG9iYWwuZGVsZXRlU3VjY2VzcycpLA0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIHRoaXMuZ2V0TGlzdCgpOw0KICAgICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICB0aGlzLiRub3RpZnkuZXJyb3Ioew0KICAgICAgICAgICAgICAgICAgbWVzc2FnZTogdGhpcy4kdCgnZ2xvYmFsLmRlbGV0ZUZhaWwnKSwNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIC5jYXRjaCgocmVzKSA9PiB7DQogICAgICAgICAgICAgIHRoaXMuJG5vdGlmeS5lcnJvcih7DQogICAgICAgICAgICAgICAgdGl0bGU6IHRoaXMuJHQoJ2dsb2JhbC5kZWxldGVGYWlsJyksDQogICAgICAgICAgICAgICAgbWVzc2FnZTp0aGlzLiR0KCdyZXNwb25zZS4nICsgcmVzLmRhdGEuZXJybm8pDQogICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfSk7DQogICAgICAgIH0pDQogICAgICAgIC5jYXRjaCgoKSA9PiB7fSk7DQogICAgfSwNCiAgfSwNCn07DQo="},{"version":3,"sources":["list.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsFA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"list.vue","sourceRoot":"src/views/paytoken","sourcesContent":["<template>\r\n  <div class=\"app-container\">\r\n\r\n    <!-- 查询和其他操作 -->\r\n    <div class=\"filter-container\">\r\n      <el-button class=\"filter-item\" type=\"primary\" icon=\"el-icon-edit\" @click=\"handleCreate\">{{$t('paytoken.create')}}</el-button>\r\n    </div>\r\n\r\n    <!-- 查询结果 -->\r\n    <el-table v-loading=\"listLoading\" :data=\"list\" :element-loading-text=\"$t('payload.loadingText')\" border fit highlight-current-row>\r\n      <el-table-column align=\"center\" label=\"Id\" prop=\"id\" sortable />\r\n      <el-table-column align=\"center\" :label=\"$t('paytoken.name')\" prop=\"name\" />\r\n      <el-table-column align=\"center\" :label=\"$t('paytoken.symbol')\" prop=\"symbol\" />\r\n      <el-table-column align=\"center\" :label=\"$t('paytoken.decimals')\" prop=\"decimals\" />\r\n      <el-table-column align=\"center\" :label=\"$t('paytoken.type')\" prop=\"type\" >\r\n        <template slot-scope=\"scope\">\r\n          {{ getTokenType(scope.row.type) }}\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column align=\"center\" :label=\"$t('paytoken.address')\" prop=\"address\" />\r\n      <el-table-column align=\"center\" :label=\"$t('paytoken.default')\" >\r\n        <template slot-scope=\"scope\">\r\n          <el-tag type=\"info\" v-if=\"!scope.row.isDefault\">{{$t('paytoken.no')}}</el-tag>\r\n          <el-tag type=\"success\" v-else>{{$t('paytoken.yes')}}</el-tag>\r\n        </template>\r\n      </el-table-column>\r\n\r\n      <el-table-column align=\"center\" :label=\"$t('paytoken.operate')\" width=\"300\" class-name=\"small-padding fixed-width\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button type=\"primary\" size=\"mini\" @click=\"handleUpdate(scope.row)\">{{$t('paytoken.edit')}}</el-button>\r\n          <el-button type=\"danger\" size=\"mini\" @click=\"handleDelete(scope.row)\" v-if=\"!scope.row.deleted\">{{$t('paytoken.delete')}}</el-button>\r\n        </template>\r\n      </el-table-column>\r\n\r\n    </el-table>\r\n\r\n\r\n    <!-- 添加或修改对话框 -->\r\n    <el-dialog :title=\"textMap[dialogStatus]\" :visible.sync=\"dialogFormVisible\">\r\n      <el-form ref=\"dataForm\" :rules=\"rules\" :model=\"dataForm\" status-icon label-position=\"left\" label-width=\"120px\" >\r\n\r\n        <el-form-item :label=\"$t('paytoken.name')\" prop=\"name\">\r\n          <el-input v-model=\"dataForm.name\" />\r\n        </el-form-item>\r\n\r\n        <el-form-item :label=\"$t('paytoken.symbol')\" prop=\"symbol\">\r\n          <el-input v-model=\"dataForm.symbol\" />\r\n        </el-form-item>\r\n\r\n        <el-form-item :label=\"$t('paytoken.decimals')\" prop=\"decimals\">\r\n          <el-input v-model=\"dataForm.decimals\" />\r\n        </el-form-item>\r\n\r\n        <el-form-item :label=\"$t('paytoken.type')\" prop=\"type\">\r\n          <el-select v-model=\"dataForm.type\">\r\n            <el-option\r\n              v-for=\"(type, i) in types\"\r\n              :key=\"type.value\"\r\n              :label=\"type.name\"\r\n              :value=\"type.value\"\r\n            >\r\n            </el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n\r\n        <el-form-item :label=\"$t('paytoken.address')\" prop=\"address\">\r\n          <el-input v-model=\"dataForm.address\" />\r\n        </el-form-item>\r\n\r\n        <el-form-item :label=\"$t('paytoken.default')\" prop=\"isDefault\" v-if=\"dataForm.type != 0\">\r\n          <el-checkbox v-model=\"dataForm.isDefault\" :label=\"$t('paytoken.default')\"></el-checkbox>\r\n        </el-form-item>\r\n\r\n      </el-form>\r\n\r\n      <div slot=\"footer\" class=\"dialog-footer\" v-if=\"dialogStatus!='detail' \">\r\n        <el-button @click=\"dialogFormVisible = false\">{{$t('global.cancel')}}</el-button>\r\n        <el-button v-if=\"dialogStatus=='create'\" type=\"primary\" @click=\"createData\">{{$t('global.confirm')}}</el-button>\r\n        <el-button v-else type=\"primary\" @click=\"updateData\">{{$t('global.confirm')}}</el-button>\r\n      </div>\r\n    </el-dialog>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Pagination from \"@/components/Pagination\"; // Secondary package based on el-pagination\r\n\r\nexport default {\r\n  components: { Pagination },\r\n  data() {\r\n    return {\r\n      list: null,\r\n      listLoading: true,\r\n      types: [\r\n        { value: 0, name: \"ETH\" },\r\n        { value: 1, name: \"ERC20\" },\r\n      ],\r\n      listQuery: {\r\n        page: 1,\r\n        limit: 10,\r\n        username: undefined,\r\n        mobile: undefined,\r\n        sort: \"create_time\",\r\n        order: \"desc\",\r\n      },\r\n      dialogFormVisible: false,\r\n      dialogStatus: \"\",\r\n      dataForm: {},\r\n      rules: {\r\n        name: [ { required: true, message: this.$t('paytoken.emptyName'), trigger: \"blur\" } ],\r\n        symbol: [ { required: true, message: this.$t('paytoken.emptySymbol'), trigger: \"blur\" } ],\r\n        decimals: [ { required: true, message: this.$t('paytoken.emptyDecimals'), trigger: \"blur\" } ],\r\n        address: [ { required: true, message: this.$t('paytoken.emptyAddress'), trigger: \"blur\" } ],\r\n      },\r\n      textMap: {\r\n        update: this.$t('global.edit'),\r\n        detail: this.$t('global.detail'),\r\n        create: this.$t('global.create'),\r\n      },\r\n    };\r\n  },\r\n  created() {\r\n    this.getList();\r\n  },\r\n  methods: {\r\n    getTokenType(type){\r\n      for(var i = 0; i < this.types.length; i++){\r\n        if(type == this.types[i].value){\r\n          return this.types[i].name;\r\n        }\r\n      }\r\n    },\r\n    getList() {\r\n      this.listLoading = true;\r\n      this.$api(\"paytoken.list\", this.listQuery).then((res) => {\r\n        this.list = res.data.list;\r\n        this.listLoading = false;\r\n      }).catch((err) => {\r\n        this.list = [];\r\n        this.listLoading = false;\r\n      });\r\n    },\r\n    handleFilter() {\r\n      this.listQuery.page = 1;\r\n      this.getList();\r\n    },\r\n    resetForm() {\r\n      this.dataForm = {};\r\n    },\r\n    handleCreate() {\r\n      this.resetForm();\r\n      this.dialogStatus = \"create\";\r\n      this.dialogFormVisible = true;\r\n      this.$nextTick(() => {\r\n        this.$refs[\"dataForm\"].clearValidate();\r\n      });\r\n    },\r\n    createData() {\r\n      this.$refs[\"dataForm\"].validate((valid) => {\r\n        if (valid) {\r\n          var data = Object.assign({}, this.dataForm);\r\n          data.isDefault = !data.isDefault ? 0: 1;\r\n          if(data.type == 0) data.isDefault = 0;\r\n\r\n          this.$api('paytoken.create', data)\r\n            .then((res) => {\r\n              if(this.$tool.checkResponse(res)){\r\n                this.dialogFormVisible = false;\r\n                this.$notify.success({\r\n                  title: this.$t('global.success'),\r\n                  message: this.$t('global.createSuccess'),\r\n                });\r\n                this.getList();\r\n              }else{\r\n                this.$notify.error({\r\n                  title: this.$t('global.createFail'),\r\n                  message: res.errmsg,\r\n                });\r\n              }\r\n            })\r\n            .catch((res) => {\r\n              this.$notify.error({\r\n                title: this.$t('global.createFail'),\r\n                message:this.$t('response.' + res.data.errno)\r\n              });\r\n            });\r\n        }\r\n      });\r\n    },\r\n    handleUpdate(row) {\r\n      this.dataForm = Object.assign({}, row);\r\n      this.dataForm.isDefault = this.dataForm.isDefault == 1 ? true : false;\r\n      this.dialogStatus = \"update\";\r\n      this.dialogFormVisible = true;\r\n      this.$nextTick(() => {\r\n        this.$refs[\"dataForm\"].clearValidate();\r\n      });\r\n    },\r\n    updateData() {\r\n      this.$refs[\"dataForm\"].validate((valid) => {\r\n        if (valid) {\r\n          var data = {\r\n            id: this.dataForm.id,\r\n            name: this.dataForm.name,\r\n            symbol: this.dataForm.symbol,\r\n            decimals: this.dataForm.decimals,\r\n            type: this.dataForm.type,\r\n            address: this.dataForm.address,\r\n            isDefault: !this.dataForm.isDefault ? 0 : 1,\r\n          };\r\n          this.$api('paytoken.update', data)\r\n            .then((res) => {\r\n              if(this.$tool.checkResponse(res)){\r\n                this.dialogFormVisible = false;\r\n                this.$notify.success({\r\n                  title: this.$t('global.success'),\r\n                  message: this.$t('global.editSuccess'),\r\n                });\r\n                this.getList();\r\n              }else{\r\n                this.$notify.error({\r\n                  title: this.$t('global.fail'),\r\n                  message: res.errmsg\r\n                });\r\n              }\r\n            })\r\n            .catch((res) => {\r\n              this.$notify.error({\r\n                title: this.$t('global.fail'),\r\n                message:this.$t('response.'+ res.data.errno)\r\n              });\r\n            });\r\n        }\r\n      });\r\n    },\r\n    handleDelete(row) {\r\n      this.$confirm(this.$t('global.deleteTip'), this.$t('global.tip'), {\r\n        confirmButtonText: this.$t('global.confirm'),\r\n        cancelButtonText: this.$t('global.cancel'),\r\n        type: \"warning\",\r\n      })\r\n        .then(() => {\r\n          this.$api('paytoken.delete',{ address: row.address})\r\n            .then((res) => {\r\n              if(this.$tool.checkResponse(res)){\r\n                this.$notify.success({\r\n                  title: this.$t('global.success'),\r\n                  message: this.$t('global.deleteSuccess'),\r\n                });\r\n                this.getList();\r\n              }else{\r\n                this.$notify.error({\r\n                  message: this.$t('global.deleteFail'),\r\n                });\r\n              }\r\n            })\r\n            .catch((res) => {\r\n              this.$notify.error({\r\n                title: this.$t('global.deleteFail'),\r\n                message:this.$t('response.' + res.data.errno)\r\n              });\r\n            });\r\n        })\r\n        .catch(() => {});\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n  .dataFormClass{\r\n   width: 400px;\r\n   margin-left:50px;\r\n  }\r\n</style>\r\n"]}]}