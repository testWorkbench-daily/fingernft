{"remainingRequest":"/Users/yanglin/Desktop/test/fingernft/vue-admin/node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!/Users/yanglin/Desktop/test/fingernft/vue-admin/src/views/userManagement/userData.vue?vue&type=style&index=0&id=5bff286c&lang=scss&scoped=true&","dependencies":[{"path":"/Users/yanglin/Desktop/test/fingernft/vue-admin/src/views/userManagement/userData.vue","mtime":1646290558235},{"path":"/Users/yanglin/Desktop/test/fingernft/vue-admin/node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanglin/Desktop/test/fingernft/vue-admin/node_modules/_vue-loader@15.9.8@vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/yanglin/Desktop/test/fingernft/vue-admin/node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/yanglin/Desktop/test/fingernft/vue-admin/node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanglin/Desktop/test/fingernft/vue-admin/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanglin/Desktop/test/fingernft/vue-admin/node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoubWItMjAgewogIG1hcmdpbi1ib3R0b206IDIwcHg7Cn0KLnRhYmxlLWNlbGwgewogIHBhZGRpbmc6IDEwcHg7CiAgZm9udC1zaXplOiAxNHB4OwogIHRleHQtYWxpZ246IGNlbnRlcjsKICBvdmVyZmxvdzogaGlkZGVuOwp9Ci50aXRsZSB7CiAgZm9udC1zdHlsZTogMTZweDsKICBmb250LXdlaWdodDogNzAwOwp9Ci5waWNrZXIgewogIG1hcmdpbjogMHB4IDEwcHg7Cn0KLmNlbnRlckNsYXNzIHsKICBkaXNwbGF5OiBmbGV4OwogIGp1c3RpZnktY29udGVudDogY2VudGVyOwogIGFsaWduLWl0ZW1zOiBjZW50ZXI7Cn0KLnZlcmlmeUNsYXNzIHsKICB3aWR0aDogMTAwJTsKICBkaXNwbGF5OiBmbGV4OwogIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7Cn0KLndpZHRoRml0IHsKICB3aWR0aDogZml0LWNvbnRlbnQ7Cn0K"},{"version":3,"sources":["userData.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAydA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"userData.vue","sourceRoot":"src/views/userManagement","sourcesContent":["<template>\n  <div class=\"app-container\">\n    <!-- 查询和其他操作 -->\n    <li class=\"mb-20\">{{ $t(\"userData.title\") }}</li>\n    <div class=\"filter-container\">\n      <el-input\n        v-model=\"listQuery.name\"\n        clearable\n        class=\"filter-item w-200 mr-10\"\n        :placeholder=\"$t('userData.placeholder1')\"\n      />\n      <el-input\n        v-model=\"listQuery.address\"\n        clearable\n        class=\"filter-item w-200 mr-10\"\n        :placeholder=\"$t('userData.placeholder2')\"\n      />\n      <el-select\n        v-model=\"listQuery.verify\"\n        class=\"filter-item w-200 mr-10\"\n        :placeholder=\"$t('userData.placeholder3')\"\n      >\n        <el-option\n          v-for=\"item in options\"\n          :key=\"item.value\"\n          :label=\"item.label\"\n          :value=\"item.value\"\n        />\n      </el-select>\n\n      <!-- 登录时间\n      <el-date-picker class=\"picker\" v-model=\"value1\" type=\"daterange\" range-separator=\"至\"\n        start-placeholder=\"开始日期\" end-placeholder=\"结束日期\"></el-date-picker> -->\n\n      <el-button\n        class=\"filter-item mt-10\"\n        type=\"primary\"\n        icon=\"el-icon-search\"\n        @click=\"handleFilter\"\n        >{{ $t(\"userData.select\") }}</el-button\n      >\n    </div>\n\n    <!-- 查询结果 -->\n    <el-table\n      v-loading=\"listLoading\"\n      :data=\"list\"\n      :element-loading-text=\"$t('userData.loadingText')\"\n      border\n      fit\n      highlight-current-row\n    >\n      <el-table-column\n        width=\"150px\"\n        align=\"center\"\n        :label=\"$t('userData.address')\"\n        prop=\"address\"\n      />\n\n      <el-table-column\n        width=\"150px\"\n        align=\"center\"\n        :label=\"$t('userData.nickname')\"\n        prop=\"nickname\"\n      />\n\n      <el-table-column\n        width=\"150px\"\n        align=\"center\"\n        :label=\"$t('userData.avatar')\"\n        prop=\"avatar\"\n      >\n        <template slot-scope=\"scope\" v-if=\"scope.row.avatar\">\n          <media\n            :isPreview=\"true\"\n            :url=\"scope.row.avatar\"\n            type=\"image\"\n          ></media>\n        </template>\n      </el-table-column>\n\n      <el-table-column\n        width=\"150px\"\n        align=\"center\"\n        :label=\"$t('userData.nftQuantityHeld')\"\n        prop=\"haveNFT\"\n      />\n\n      <el-table-column\n        width=\"150px\"\n        align=\"center\"\n        :label=\"$t('userData.nftQuantityCreated')\"\n        prop=\"createNFT\"\n      />\n\n      <el-table-column\n        width=\"150px\"\n        align=\"center\"\n        :label=\"$t('userData.nftQuantitySold')\"\n        prop=\"saleNFT\"\n      />\n\n      <el-table-column\n        width=\"150px\"\n        align=\"center\"\n        :label=\"$t('userData.nftQuantityBought')\"\n        prop=\"buyNFT\"\n      />\n\n      <el-table-column\n        width=\"150px\"\n        align=\"center\"\n        :label=\"$t('userData.accumulatedVolume')\"\n        prop=\"accumulatedVolume\"\n      />\n\n      <el-table-column\n        width=\"150px\"\n        align=\"center\"\n        :label=\"$t('userData.accumulatedMoney')\"\n        prop=\"accumulatedMoney\"\n      />\n\n      <el-table-column\n        width=\"150px\"\n        align=\"center\"\n        :label=\"$t('userData.certificationStatus')\"\n        prop=\"userVerify\"\n      >\n        <template slot-scope=\"scope\">\n          <el-tag\n            v-if=\"scope.row.userVerify == 0 || !scope.row.userVerify\"\n            type=\"info\"\n            >{{ $t(\"userData.unauthenticated\") }}</el-tag\n          >\n          <el-tag v-if=\"scope.row.userVerify == 1\" type=\"success\">{{\n            $t(\"userData.certificationPassed\")\n          }}</el-tag>\n          <el-tag v-if=\"scope.row.userVerify == 2\" type=\"danger\">{{\n            $t(\"userData.authenticationFailed\")\n          }}</el-tag>\n        </template>\n      </el-table-column>\n\n      <el-table-column\n        align=\"center\"\n        :label=\"$t('userData.operation')\"\n        width=\"250\"\n        class-name=\"small-padding fixed-width\"\n      >\n        <template slot-scope=\"scope\">\n          <el-button\n            type=\"primary\"\n            size=\"mini\"\n            @click=\"handleDetail(scope.row)\"\n            >{{ $t(\"userData.details\") }}</el-button\n          >\n          <el-button\n            type=\"success\"\n            size=\"mini\"\n            class=\"widthFit\"\n            @click=\"(verifyForm = true), (activeId = scope.row.id)\"\n            v-if=\"scope.row.userVerify != 1\"\n            >{{ $t(\"userData.immediateCertification\") }}</el-button\n          >\n          <el-button\n            type=\"success\"\n            size=\"mini\"\n            class=\"widthFit\"\n            @click=\"handleCertification(scope.row)\"\n            v-else\n            >{{ $t(\"userData.cancelCertification\") }}</el-button\n          >\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <pagination\n      :total=\"total\"\n      :page.sync=\"listQuery.page\"\n      :limit.sync=\"listQuery.limit\"\n      @pagination=\"getList\"\n    />\n\n    <!-- 对话框 -->\n    <el-dialog\n      :title=\"$t('userData.details')\"\n      :visible.sync=\"dialogFormVisible\"\n    >\n      <el-descriptions\n        class=\"margin-top\"\n        direction=\"vertical\"\n        :column=\"3\"\n        size=\"\"\n        border\n      >\n        <el-descriptions-item>\n          <template slot=\"label\">\n            <div class=\"centerClass\">{{ $t(\"userData.address\") }}</div>\n          </template>\n          <div class=\"centerClass\">\n            {{ details.address }}\n          </div>\n        </el-descriptions-item>\n        <el-descriptions-item>\n          <template slot=\"label\">\n            <div class=\"centerClass\">{{ $t(\"userData.nickname\") }}</div>\n          </template>\n          <div class=\"centerClass\">\n            {{ details.nickname }}\n          </div>\n        </el-descriptions-item>\n        <el-descriptions-item>\n          <template slot=\"label\">\n            <div class=\"centerClass\">{{ $t(\"userData.avatar\") }}</div>\n          </template>\n          <div class=\"centerClass\">\n            {{ details.avatar }}\n          </div>\n        </el-descriptions-item>\n        <el-descriptions-item>\n          <template slot=\"label\">\n            <div class=\"centerClass\">{{ $t(\"userData.nftQuantityHeld\") }}</div>\n          </template>\n          <div class=\"centerClass\">\n            {{ details.haveNFT }}\n          </div>\n        </el-descriptions-item>\n        <el-descriptions-item>\n          <template slot=\"label\">\n            <div class=\"centerClass\">\n              {{ $t(\"userData.nftQuantityCreated\") }}\n            </div>\n          </template>\n          <div class=\"centerClass\">\n            {{ details.createNFT }}\n          </div>\n        </el-descriptions-item>\n        <el-descriptions-item>\n          <template slot=\"label\">\n            <div class=\"centerClass\">{{ $t(\"userData.nftQuantitySold\") }}</div>\n          </template>\n          <div class=\"centerClass\">\n            {{ details.saleNFT }}\n          </div>\n        </el-descriptions-item>\n        <el-descriptions-item>\n          <template slot=\"label\">\n            <div class=\"centerClass\">\n              {{ $t(\"userData.nftQuantityBought\") }}\n            </div>\n          </template>\n          <div class=\"centerClass\">\n            {{ details.buyNFT }}\n          </div>\n        </el-descriptions-item>\n        <el-descriptions-item>\n          <template slot=\"label\">\n            <div class=\"centerClass\">\n              {{ $t(\"userData.accumulatedVolume\") }}\n            </div>\n          </template>\n          <div class=\"centerClass\">\n            {{ details.accumulatedVolume }}\n          </div>\n        </el-descriptions-item>\n        <el-descriptions-item>\n          <template slot=\"label\">\n            <div class=\"centerClass\">{{ $t(\"userData.accumulatedMoney\") }}</div>\n          </template>\n          <div class=\"centerClass\">\n            {{ details.accumulatedMoney }}\n          </div>\n        </el-descriptions-item>\n        <el-descriptions-item>\n          <template slot=\"label\">\n            <div class=\"centerClass\">\n              <div class=\"centerClass\">\n                {{ $t(\"userData.certificationStatus\") }}\n              </div>\n            </div>\n          </template>\n          <div class=\"centerClass\">\n            <el-tag v-if=\"details.userVerify == 0\" type=\"info\">{{\n              $t(\"userData.unauthenticated\")\n            }}</el-tag>\n            <el-tag v-if=\"details.userVerify == 1\" type=\"success\">{{\n              $t(\"userData.certificationPassed\")\n            }}</el-tag>\n            <el-tag v-if=\"details.userVerify == 2\" type=\"danger\">{{\n              $t(\"userData.authenticationFailed\")\n            }}</el-tag>\n          </div>\n        </el-descriptions-item>\n      </el-descriptions>\n    </el-dialog>\n    <el-dialog\n      :title=\"$t('userData.authentication')\"\n      :visible.sync=\"verifyForm\"\n    >\n      <el-radio v-model=\"verifyStatus\" :label=\"1\">{{\n        $t(\"userData.certificationPassed\")\n      }}</el-radio>\n      <el-radio v-model=\"verifyStatus\" :label=\"2\">{{\n        $t(\"userData.authenticationFailed\")\n      }}</el-radio>\n      <br />\n      <div class=\"verifyClass\">\n        <el-button type=\"info\" size=\"mini\" @click=\"verifyForm = false\">{{\n          $t(\"userData.cancel\")\n        }}</el-button>\n        <el-button type=\"success\" size=\"mini\" @click=\"verifyFunction\">{{\n          $t(\"userData.confirm\")\n        }}</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport Pagination from \"@/components/Pagination/index.vue\";\nimport Media from \"@/components/Media\";\nexport default {\n  components: { Pagination, Media },\n  data() {\n    return {\n      list: [],\n      total: 0,\n      listLoading: true,\n      listQuery: {\n        page: 1,\n        limit: 10,\n        name: undefined,\n        address: undefined,\n        verify: undefined,\n        start: undefined,\n        end: undefined,\n        sort: \"create_time\",\n        order: \"desc\",\n      },\n      downloadLoading: false,\n      dialogFormVisible: false,\n      details: {},\n      value1: \"\",\n      options: [\n        {\n          value: 0,\n          label: this.$t(\"userData.unauthenticated\"),\n        },\n        {\n          value: 1,\n          label: this.$t(\"userData.authenticated\"),\n        },\n        {\n          value: 2,\n          label: this.$t(\"userData.authenticationFailed\"),\n        },\n      ],\n      verifyForm: false,\n      verifyStatus: 1,\n      activeId: \"\",\n    };\n  },\n  created() {\n    this.getList();\n  },\n  methods: {\n    getList() {\n      this.listLoading = true;\n      this.$api(\"user.list\", this.listQuery)\n        .then((response) => {\n          this.list = response.data.list;\n          this.total = response.data.total;\n          this.listLoading = false;\n        })\n        .catch(() => {\n          this.list = [];\n          this.total = 0;\n          this.listLoading = false;\n        });\n    },\n    handleFilter() {\n      if (this.value1) {\n        this.listQuery.start = this.GMTToStr(this.value1[0]);\n        this.listQuery.end = this.GMTToStr(this.value1[1]);\n      }\n      this.listQuery.page = 1;\n      this.getList();\n    },\n    handleCertification(row) {\n      this.$confirm(this.$t(\"userData.tipContent\"), this.$t(\"userData.tip\"), {\n        confirmButtonText: this.$t(\"userData.confirm\"),\n        cancelButtonText: this.$t(\"userData.cancel\"),\n        type: \"warning\",\n      })\n        .then(() => {\n          this.$api(\"user.userVerify\", { id: row.id, userVerify: 0 })\n            .then((response) => {\n              this.$notify.success({\n                title: this.$t(\"authentication.success\"),\n                message: this.$t(\"authentication.completed\"),\n              });\n              this.getList();\n            })\n            .catch((response) => {\n              this.$notify.error({\n                title: this.$t(\"authentication.fail\"),\n                message: this.$t(\"response.\" + response.data.errno),\n              });\n            });\n        })\n        .catch(() => {});\n    },\n    verifyFunction() {\n      this.listLoading = true;\n      this.$api(\"user.userVerify\", {\n        id: this.activeId,\n        userVerify: this.verifyStatus,\n      })\n        .then((response) => {\n          this.getList();\n          this.verifyForm = false;\n          this.$notify.success({\n            title: this.$t(\"authentication.success\"),\n            message: this.$t(\"authentication.completed\"),\n          });\n        })\n        .catch((response) => {\n          this.listLoading = false;\n          this.$notify.error({\n            title: this.$t(\"authentication.fail\"),\n            message: this.$t(\"response.\" + response.data.errno),\n          });\n        });\n    },\n    handleDetail(row) {\n      // window.open('http://testnet.yuumi.io/account/0x80dd336deb7eea1923780a7383c806870c9ce27d');\n\n      this.details = row;\n  \n      this.dialogFormVisible = true;\n\n      // this.$api('user.userDetail',{ id: row.address })\n      //   .then((response) => {\n      //     this.details = response.data;\n      //     this.dialogFormVisible = true;\n      //   })\n      //   .catch((response) => {\n      //     this.$notify.error({\n      //       title: \"存在错误\",\n      //       message: response.data.errmsg,\n      //     });\n      //   });\n    },\n    // 时间转化\n    GMTToStr(time) {\n      let date = new Date(time);\n      let month = date.getMonth() + 1;\n      let datas = date.getDate();\n      if (month < 10) {\n        month = \"0\" + month;\n      }\n      if (datas < 10) {\n        datas = \"0\" + datas;\n      }\n      let Str = date.getFullYear() + \"-\" + month + \"-\" + datas;\n      return Str;\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.mb-20 {\n  margin-bottom: 20px;\n}\n.table-cell {\n  padding: 10px;\n  font-size: 14px;\n  text-align: center;\n  overflow: hidden;\n}\n.title {\n  font-style: 16px;\n  font-weight: 700;\n}\n.picker {\n  margin: 0px 10px;\n}\n.centerClass {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.verifyClass {\n  width: 100%;\n  display: flex;\n  justify-content: flex-end;\n}\n.widthFit {\n  width: fit-content;\n}\n</style>\n"]}]}