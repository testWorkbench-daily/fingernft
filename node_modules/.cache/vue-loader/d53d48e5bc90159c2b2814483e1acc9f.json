{"remainingRequest":"/Users/yanglin/Desktop/test/fingernft/vue-admin/node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!/Users/yanglin/Desktop/test/fingernft/vue-admin/src/components/Notice/index.vue?vue&type=style&index=0&id=6ff69cea&lang=scss&scoped=true&","dependencies":[{"path":"/Users/yanglin/Desktop/test/fingernft/vue-admin/src/components/Notice/index.vue","mtime":1646290558183},{"path":"/Users/yanglin/Desktop/test/fingernft/vue-admin/node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanglin/Desktop/test/fingernft/vue-admin/node_modules/_vue-loader@15.9.8@vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/yanglin/Desktop/test/fingernft/vue-admin/node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/yanglin/Desktop/test/fingernft/vue-admin/node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanglin/Desktop/test/fingernft/vue-admin/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanglin/Desktop/test/fingernft/vue-admin/node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5lbC1iYWRnZV9fY29udGVudC5pcy1maXhlZC5pcy1kb3QgewogIHJpZ2h0OiA1cHg7CiAgdG9wOiAxMHB4Owp9CgouZWwtaWNvbi1iZWxsIHsKICBmb250LXNpemU6IDIwcHg7CiAgY3Vyc29yOiBwb2ludGVyOwp9Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6DA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/components/Notice","sourcesContent":["<template>\n  <div>\n    <el-badge :is-dot=\"hasNotice\">\n      <i class=\"el-icon-bell\" @click=\"click\" />\n    </el-badge>\n    <audio ref=\"audioRef\" preload=\"preload\" src=\"/prompt.mp3\" />\n  </div>\n</template>\n\n<script>\n// import { nNotice, readAll } from '@/api/profile'\n\nexport default {\n  data() {\n    return {\n      hasNotice: false,\n      timer: \"\",\n    };\n  },\n  computed: {},\n  mounted() {},\n  beforeDestroy() {\n    clearInterval(this.timer);\n    this.$refs.audioRef.pause();\n  },\n  // created() {\n  //   this.checkNotice();\n  //   this.handleVisibilityChange = this.handleVisibilityChange.bind(this);\n  //   this.checkNotice = this.checkNotice.bind(this);\n  //   document.addEventListener(\n  //     \"visibilitychange\",\n  //     this.handleVisibilityChange,\n  //     false\n  //   );\n  //   this.timer = setInterval(this.checkNotice, 1000 * 60);\n  // },\n  methods: {\n    click() {\n      this.$store.commit(\"SET_NOTICE\", false);\n      // if (this.$route.path === '/profile/notice') return\n      this.$router.push({ path: \"/profile/notice\" });\n    },\n    // checkNotice() {\n    //   nNotice().then(response => {\n    //     this.hasNotice = (response && response.data && response.data > 0) || false\n    //     this.hasNotice && !document.hidden && this.$nextTick(() => {\n    //       this.$refs.audioRef.play()\n    //       readAll()\n    //     })\n    //     this.$store.commit('SET_NOTICE', this.hasNotice)\n    //   })\n    // },\n    handleVisibilityChange() {\n      if (document.hidden && this.$refs.audioRef)\n        this.$refs.audioRef && this.$refs.audioRef.pause();\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.el-badge__content.is-fixed.is-dot {\n  right: 5px;\n  top: 10px;\n}\n\n.el-icon-bell {\n  font-size: 20px;\n  cursor: pointer;\n}\n</style>\n"]}]}