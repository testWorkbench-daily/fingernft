{"remainingRequest":"/Users/yanglin/Desktop/test/fingernft/vue-admin/node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!/Users/yanglin/Desktop/test/fingernft/vue-admin/src/views/config/ipfs.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yanglin/Desktop/test/fingernft/vue-admin/src/views/config/ipfs.vue","mtime":1646290558212},{"path":"/Users/yanglin/Desktop/test/fingernft/vue-admin/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanglin/Desktop/test/fingernft/vue-admin/node_modules/_babel-loader@8.2.3@babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/yanglin/Desktop/test/fingernft/vue-admin/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanglin/Desktop/test/fingernft/vue-admin/node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnSVBGUycsCiAgcHJvcHM6IHsKICAgIGNvbmZpZzogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIGRlZmF1bHQ6IHt9LAogICAgfSwKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBlZGl0OiB7CiAgICAgICAgbmFtZTogbnVsbCwKICAgICAgICBzdGF0dXM6IG51bGwsCiAgICAgICAgZGF0YTogIiIsCiAgICAgIH0sCiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBlZGl0Q29uZmlnKG5hbWUsIGRhdGEpewogICAgICB0aGlzLmVkaXQgPSB7CiAgICAgICAgbmFtZTogbmFtZSwKICAgICAgICBzdGF0dXM6ICJlZGl0IiwKICAgICAgICBkYXRhOiBkYXRhCiAgICAgIH07CiAgICB9LAogICAgY2FuY2VsQ29uZmlnKCl7CiAgICAgIHRoaXMuZWRpdCA9IHsgbmFtZTogIiIsIHN0YXR1czogIiIsIGRhdGE6ICIiIH0KICAgIH0sCiAgICB1cGRhdGVDb25maWcoKXsKICAgICAgdGhpcy4kY29uZmlybSh0aGlzLiR0KCdnbG9iYWwudXBkYXRlVGlwJyksIHRoaXMuJHQoJ2dsb2JhbC50aXAnKSwgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiB0aGlzLiR0KCdnbG9iYWwuY29uZmlybScpLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6IHRoaXMuJHQoJ2dsb2JhbC5jYW5jZWwnKSwKICAgICAgICB0eXBlOiAid2FybmluZyIsCiAgICAgIH0pCiAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICB2YXIgZGF0YSA9IHsKICAgICAgICAgIGtleTogdGhpcy5lZGl0Lm5hbWUsCiAgICAgICAgICB2YWx1ZTogdGhpcy5lZGl0LmRhdGEsCiAgICAgICAgfTsKICAgICAgICB0aGlzLiRhcGkoImNvbmZpZy51cGRhdGUiLCBkYXRhKQogICAgICAgICAgLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgICBpZih0aGlzLiR0b29sLmNoZWNrUmVzcG9uc2UocmVzKSl7CiAgICAgICAgICAgICAgdGhpcy4kbm90aWZ5LnN1Y2Nlc3MoewogICAgICAgICAgICAgICAgdGl0bGU6IHRoaXMuJHQoJ2dsb2JhbC5zdWNjZXNzJyksCiAgICAgICAgICAgICAgICBtZXNzYWdlOiB0aGlzLiR0KCdnbG9iYWwudXBkYXRlU3VjY2VzcycpLAogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIHRoaXMuY2FuY2VsQ29uZmlnKCk7CiAgICAgICAgICAgICAgdGhpcy4kZW1pdCgnaW5pdCcpOwogICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICB0aGlzLiRub3RpZnkuZXJyb3IoewogICAgICAgICAgICAgICAgdGl0bGU6IHRoaXMuJHQoJ2dsb2JhbC5mYWlsJyksCiAgICAgICAgICAgICAgICBtZXNzYWdlOiByZXMuZXJybXNnLAogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9KQogICAgICAgICAgLmNhdGNoKChyZXMpID0+IHsKICAgICAgICAgICAgdGhpcy4kbm90aWZ5LmVycm9yKHsKICAgICAgICAgICAgICB0aXRsZTogdGhpcy4kdCgnZ2xvYmFsLmZhaWwnKSwKICAgICAgICAgICAgICBtZXNzYWdlOiB0aGlzLiR0KCdyZXNwb25zZS4nICsgcmVzLmRhdGEuZXJybm8pLAogICAgICAgICAgICB9KTsKICAgICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCgogIH0KfQo="},{"version":3,"sources":["ipfs.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"ipfs.vue","sourceRoot":"src/views/config","sourcesContent":["<template>\n  <div class=\"config-group\">\n\n    <div class=\"config-item\">\n      <div class=\"item-label\">{{ $t('config.ipfsUrl')}}</div>\n      <div class=\"item-value\" v-if=\"edit.name != 'ipfsUrl' || edit.status != 'edit' \">\n        <div class=\"show-value\">{{ config.ipfsUrl }}</div>\n        <el-link type=\"danger\" @click=\"editConfig('ipfsUrl', config.ipfsUrl)\">{{ $t('global.edit') }}</el-link>\n      </div>\n      <div class=\"item-value\" v-else>\n        <div class=\"show-value input-value\">\n          <el-input v-model=\"edit.data\"></el-input>\n        </div>\n        <el-link class=\"mr-10\" type=\"primary\" @click=\"updateConfig\">{{ $t('global.update') }}</el-link>\n        <el-link type=\"info\" @click=\"cancelConfig\">{{ $t('global.cancel') }}</el-link>\n      </div>\n    </div>\n\n\n    <div class=\"config-item\">\n      <div class=\"item-label\">{{ $t('config.IpfsServerIp')}}</div>\n      <div class=\"item-value\" v-if=\"edit.name != 'IpfsServerIp' || edit.status != 'edit' \">\n        <div class=\"show-value\">{{ config.IpfsServerIp}}</div>\n        <el-link type=\"danger\" @click=\"editConfig('IpfsServerIp', config.IpfsServerIp)\">{{ $t('global.edit') }}</el-link>\n      </div>\n      <div class=\"item-value\" v-else>\n        <div class=\"show-value input-value\">\n          <el-input v-model=\"edit.data\"></el-input>\n        </div>\n        <el-link class=\"mr-10\" type=\"primary\" @click=\"updateConfig\">{{ $t('global.update') }}</el-link>\n        <el-link type=\"info\" @click=\"cancelConfig\">{{ $t('global.cancel') }}</el-link>\n      </div>\n    </div>\n\n    <div class=\"config-item\">\n      <div class=\"item-label\">{{ $t('config.IpfsServerPort')}}</div>\n      <div class=\"item-value\" v-if=\"edit.name != 'IpfsServerPort' || edit.status != 'edit' \">\n        <div class=\"show-value\">{{ config.IpfsServerPort}}</div>\n        <el-link type=\"danger\" @click=\"editConfig('IpfsServerPort', config.IpfsServerPort)\">{{ $t('global.edit') }}</el-link>\n      </div>\n      <div class=\"item-value\" v-else>\n        <div class=\"show-value input-value\">\n          <el-input v-model=\"edit.data\"></el-input>\n        </div>\n        <el-link class=\"mr-10\" type=\"primary\" @click=\"updateConfig\">{{ $t('global.update') }}</el-link>\n        <el-link type=\"info\" @click=\"cancelConfig\">{{ $t('global.cancel') }}</el-link>\n      </div>\n    </div>\n    \n    <div class=\"config-item\">\n      <div class=\"item-label\">{{ $t('config.StorageLocalPath')}}</div>\n      <div class=\"item-value\" v-if=\"edit.name != 'StorageLocalPath' || edit.status != 'edit' \">\n        <div class=\"show-value\">{{ config.StorageLocalPath}}</div>\n        <el-link type=\"danger\" @click=\"editConfig('StorageLocalPath', config.StorageLocalPath)\">{{ $t('global.edit') }}</el-link>\n      </div>\n      <div class=\"item-value\" v-else>\n        <div class=\"show-value input-value\">\n          <el-input v-model=\"edit.data\"></el-input>\n        </div>\n        <el-link class=\"mr-10\" type=\"primary\" @click=\"updateConfig\">{{ $t('global.update') }}</el-link>\n        <el-link type=\"info\" @click=\"cancelConfig\">{{ $t('global.cancel') }}</el-link>\n      </div>\n    </div>\n\n    <div class=\"config-item\">\n      <div class=\"item-label\">{{ $t('config.IpfsRemoteServer')}}</div>\n      <div class=\"item-value\" v-if=\"edit.name != 'IpfsRemoteServer' || edit.status != 'edit' \">\n        <div class=\"show-value\">{{ config.IpfsRemoteServer}}</div>\n        <el-link type=\"danger\" @click=\"editConfig('IpfsRemoteServer', config.IpfsRemoteServer)\">{{ $t('global.edit') }}</el-link>\n      </div>\n      <div class=\"item-value\" v-else>\n        <div class=\"show-value input-value\">\n          <el-input v-model=\"edit.data\"></el-input>\n        </div>\n        <el-link class=\"mr-10\" type=\"primary\" @click=\"updateConfig\">{{ $t('global.update') }}</el-link>\n        <el-link type=\"info\" @click=\"cancelConfig\">{{ $t('global.cancel') }}</el-link>\n      </div>\n    </div>\n\n  </div>\n</template>\n<script>\nexport default {\n  name: 'IPFS',\n  props: {\n    config: {\n      type: Object,\n      default: {},\n    },\n  },\n  data() {\n    return {\n      edit: {\n        name: null,\n        status: null,\n        data: \"\",\n      },\n    }\n  },\n  methods: {\n    editConfig(name, data){\n      this.edit = {\n        name: name,\n        status: \"edit\",\n        data: data\n      };\n    },\n    cancelConfig(){\n      this.edit = { name: \"\", status: \"\", data: \"\" }\n    },\n    updateConfig(){\n      this.$confirm(this.$t('global.updateTip'), this.$t('global.tip'), {\n        confirmButtonText: this.$t('global.confirm'),\n        cancelButtonText: this.$t('global.cancel'),\n        type: \"warning\",\n      })\n      .then(() => {\n        var data = {\n          key: this.edit.name,\n          value: this.edit.data,\n        };\n        this.$api(\"config.update\", data)\n          .then((res) => {\n            if(this.$tool.checkResponse(res)){\n              this.$notify.success({\n                title: this.$t('global.success'),\n                message: this.$t('global.updateSuccess'),\n              });\n              this.cancelConfig();\n              this.$emit('init');\n            }else{\n              this.$notify.error({\n                title: this.$t('global.fail'),\n                message: res.errmsg,\n              });\n            }\n          })\n          .catch((res) => {\n            this.$notify.error({\n              title: this.$t('global.fail'),\n              message: this.$t('response.' + res.data.errno),\n            });\n          });\n      });\n    },\n\n  }\n}\n</script>\n\n"]}]}